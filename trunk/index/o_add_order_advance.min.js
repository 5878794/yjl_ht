!function(e){function t(t){for(var r,i,d=t[0],u=t[1],l=t[2],c=0,f=[];c<d.length;c++)i=d[c],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&f.push(o[i][0]),o[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(g&&g(t);f.length;)f.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,d=1;d<n.length;d++){var u=n[d];0!==o[u]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={44:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var d=window.webpackJsonp=window.webpackJsonp||[],u=d.push.bind(d);d.push=t,d=d.slice();for(var l=0;l<d.length;l++)t(d[l]);var g=u;a.push([136,0]),n()}({136:function(e,t,n){"use strict";var r=n(0),o=r(n(1)),a=r(n(9)),i=r(n(2)),d=n(7),u=(n(4),n(5)),l=n(6),g=l.ajax,c=l.api,f=n(3),s=n(44),p=n(15),v=(n(14),n(12)),_=n(10),h=n(17),y=n(60),m=(n(11),n(13),n(8));n(23),n(18),n(29),n(16),n(20),n(28),n(19);var b={init:function(){u.showLoadingRun(this,"run")},run:function(){var e=this;return(0,i.default)(o.default.mark((function t(){var n,r,i,d,l,f,s,_;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m.set(!0,!0),e.createBTitlesBtn(),d=p(),e.id=d.id,e.type=d.type,e.checkType(),t.next=8,u.getUserInfo();case 8:return t.next=10,v($("#form"));case 10:return t.next=12,g.send([c.order_get_byId({id:e.id}),c.setting_config_list({type:20})]);case 12:return l=t.sent,f=(0,a.default)(l,2),s=f[0],_=f[1],e.orderNo=s.orderNo,e.orderData=s,_=null!==(n=_[0])&&void 0!==n?n:{},_=null!==(r=_.children)&&void 0!==r?r:[],_=(_=null!==(i=_[0])&&void 0!==i?i:{}).value,e.zxfl=_,e.btnEventBind(),t.next=26,e.backDataToForm(s);case 26:return e.inputEventBind1(),e.inputEventBind2(),t.next=30,u.setOrderTopData(2,s);case 30:0==$("#mortgage_info_body").children().length&&$("#mortgage_info").get(0).body.find(".btn").trigger("click"),e.addAutoInputEvent();case 33:case"end":return t.stop()}}),t)})))()},addAutoInputEvent:function(){var e=$("#orderReturnRepayment_bankName").get(0),t=$("#orderReturnRepayment_bankNo").get(0),n=$("#orderReturnRepayment_openBank").get(0),r=$("#sellerBankSupervision_bankName").get(0),o=$("#sellerBankSupervision_bankNo").get(0),a=$("#sellerBankSupervision_openBank").get(0);e.changeOnInput=function(e){r.value=e},t.changeOnInput=function(e){o.value=e},n.changeOnInput=function(e){a.value=e}},createBTitlesBtn:function(){s.addChildDelFn($("#mortgage_info").get(0),$("#mortgage_info_body"),$("#mortgage_info_item111"),!0),s.addLevel2BtnFn($("#additional_mortgage").get(0),$("#additional_mortgage_body"),$("#additional_mortgage_item1"),$("#additional_mortgage_item2"),(function(e){s.addChildDelFn(e.find(".mortgage_info1_").get(0),e.find(".mortgage_info_body1_"),$("#mortgage_info_item"),!0),e.find(".mortgage_info1_").get(0).body.find(".btn").trigger("click")}),(function(){}))},checkType:function(){3==this.type&&$(".__fdz_no__").remove()},backDataToForm:function(e){return(0,i.default)(o.default.mark((function t(){var n,r,i,d,l,g,c,f,s,p,v,_,h,y;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(r=0,i=Object.entries(e);r<i.length;r++)if(d=(0,a.default)(i[r],2),l=d[0],g=d[1],$.isObject(g))for(c=0,f=Object.entries(g);c<f.length;c++)s=(0,a.default)(f[c],2),p=s[0],v=s[1],e[l+"_"+p]=v;return _=null!==(n=e.additionalMortgagePropertyRightList)&&void 0!==n?n:[],h=[],y=[],_.map((function(e){1==e.category&&y.push(e),2==e.category&&h.push(e)})),e.additionalMortgagePropertyRightList1=y,e.additionalMortgagePropertyRightList2=h,t.next=7,u.setFromGroupVal_order($("#form"),e);case 7:case"end":return t.stop()}}),t)})))()},inputEventBind1:function(){var e,t,n,r,o=$("#dzbl"),a=o.find(".__data1"),i=o.find(".__data2"),d=(o.find(".__data3"),o.find(".__data4")),u=$("#orderMortgageExtendAssessment_evaluationPrice"),l=$("#additional_mortgage_body"),g=null!==(e=null===(t=this.orderData)||void 0===t?void 0:t.applyMoney)&&void 0!==e?e:0;a.text(h(g,2));var c=function(){var e=u.get(0).value;n=e*=1e4,f();var t=0;l.find('b-input-money[key="evaluationValue"]').each((function(){var e=1*this.value;t+=e})),r=t*=1e4,i.text(h(e+t,2)),f()},f=function(){var e=g/(n+r)*100||0;d.text(h(e,5,5)+"%")};c(),y(l.get(0),(function(e){if(0!=(e=e[0]).addedNodes.length)for(var t=0,n=e.addedNodes.length;t<n;t++){var r=e.addedNodes[t];(r=$(r).find('b-input-money[key="evaluationValue"]').eq(0).get(0))&&(r.change=function(){c()})}})),u.get(0).change=c},inputEventBind2:function(){var e=$("#orderRateInfo_consultationRate").get(0),t=$("#orderRateInfo_period").get(0),n=$("#orderRateInfo_consultationFee").get(0),r=$("#orderRateInfo_serviceRate").get(0),o=$("#orderRateInfo_serviceFee").get(0),a=$("#orderRateInfo_warrantFee").get(0),i=$("#orderRateInfo_preferentialFee").get(0),d=$("#orderRateInfo_totalCost").get(0),u=this,l=function(){var l,g;e.value=h(u.zxfl,5);var c=null!==(l=null===(g=u.orderData)||void 0===g?void 0:g.applyMoney)&&void 0!==l?l:0,f=c*t.value*e.value/100;f=f<3e3?3e3:f,n.value=h(f,2);var s=c*t.value*r.value/100;o.value=h(s,2);var p=1*n.value+1*o.value+1*a.value-1*i.value;d.value=h(p,2)};l(),t.change=function(){l()},a.change=function(){l()},i.change=function(){l()},r.change=function(){l()}},btnEventBind:function(){var e=this;$("#pre").click((function(){f.openPage("../index/o_add_order_info.html?id="+e.id,_.index_add_step2.width,_.index_add_step2.height),f.closeWin()})),$("#next").click((function(){u.showLoadingRun(e,"submitFn")}))},submitFn:function(){var e=this;return(0,i.default)(o.default.mark((function t(){var n,r,a,i;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.getFromGroupVal_order($("#form"));case 2:return i=t.sent,(i=u.handlerFromDataByObj(i)).additionalMortgagePropertyRightList1=null!==(n=i.additionalMortgagePropertyRightList1)&&void 0!==n?n:[],i.additionalMortgagePropertyRightList2=null!==(r=i.additionalMortgagePropertyRightList2)&&void 0!==r?r:[],i.additionalMortgagePropertyRightList=null===(a=i.additionalMortgagePropertyRightList1)||void 0===a?void 0:a.concat(i.additionalMortgagePropertyRightList2),delete i.additionalMortgagePropertyRightList1,delete i.additionalMortgagePropertyRightList2,delete i.additionalMortgagePropertyRightListOrderMortgageExtendMortgageList,i.id=e.id,i.orderNo=e.orderNo,t.next=14,u.uploadDataOfFiles(i);case 14:return console.log(i),t.next=17,g.send([c.order_add_step3(i)]);case 17:return t.next=19,f.alert("保存成功!");case 19:f.openPage("../index/o_add_order_view.html?id="+e.id+"&state=1",_.index_add_step4.width,_.index_add_step4.height),f.closeWin();case 21:case"end":return t.stop()}}),t)})))()}};d.run(b)}});