!function(e){function t(t){for(var i,o,s=t[0],c=t[1],u=t[2],l=0,f=[];l<s.length;l++)o=s[l],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&f.push(a[o][0]),a[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);for(d&&d(t);f.length;)f.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],i=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(i=!1)}i&&(r.splice(t--,1),e=o(o.s=n[0]))}return e}var i={},a={40:0},r=[];function o(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var d=c;r.push([126,0]),n()}({126:function(e,t,n){"use strict";var i=n(0),a=i(n(1)),r=i(n(10)),o=i(n(2)),s=n(6),c=(n(4),n(7)),u=n(5),d=u.ajax,l=u.api,f=n(3),p=(n(14),n(9)),h=n(11),v=n(12),m=n(17),g=n(13),y=n(37),w=n(8);n(30),n(34),n(127),n(39),n(33);var x={DIAN:"../res/image/index/dz.png",FANG:"../res/image/index/fd.png",TUI:"../res/image/index/tk.png",DAIHOU:"../res/image/index/dh.png",ZHAN:"../res/image/index/zq.png",DINGDAN:"../res/image/index/sc.png",HEXIAO:"../res/image/index/hx.png",CHU:"../res/image/index/ck.png",FENQI:"../res/image/index/fd.png",HUAN:"../res/image/index/fd.png"},b={userLock:!1,init:function(){c.showLoadingRun(this,"run")},run:function(){var e=this;return(0,o.default)(a.default.mark((function t(){var n,i,o,s;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.getUserInfo();case 2:return e.btnBindEvent(),e.createSearch(),t.next=6,d.send([l.index_sort_number()]);case 6:return n=t.sent,i=(0,r.default)(n,1),o=i[0],s=o.ranking||"",$("#number_").text(s),e.createNoticeFn(),t.next=14,v("orderState1");case 14:return e.orderStateDist=t.sent,t.next=17,v("businessType");case 17:return e.businessDist=t.sent,t.next=20,e.getData({pageNum:1});case 20:e.addEventEnter();case 21:case"end":return t.stop()}}),t)})))()},getData:function(e){var t=this;return(0,o.default)(a.default.mark((function n(){var i,o,s;return a.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.catchListParam=e,e.pageSize=9999999,n.next=4,d.send([l.index_list(e)]);case 4:i=n.sent,o=(0,r.default)(i,1),s=(s=o[0]).list||[],t.createList(s);case 9:case"end":return n.stop()}}),n)})))()},btnBindEvent:function(){var e=$("#add_order"),t=$("#show_ph"),n=this;e.click((function(){n.userLock?f.alert("您有即将到期的待处理任务未处理！"):0!=window.orderCreatePrivilegeType?f.openPage("../index/o_add_order.html",p.index_add_step1.width,p.index_add_step1.height):f.alert("您没有创建订单的权限！")})),t.click((function(){if(n.userLock)f.alert("您有即将到期的待处理任务未处理！");else{var e=!1;if(window.orderSearchPrivilegeType>=2&&(e=!0),e)f.openPage("../index/sort.html",p.sort.width,p.sort.height);else{var t=g.getNowMonthDay(),i=(0,r.default)(t,2),a=i[0],o=i[1];parent.window.chooseNav("business.html");var s="../business/business.html?sDay=".concat(a,"&eDay=").concat(o,"&state=").concat(99);parent.window.iframeOpen(s)}}}))},createNoticeFn:function(){var e=this;setInterval((function(){e.createNotice()}),6e4),e.createNotice()},oldNews:{},createNotice:function(){var e=this;return(0,o.default)(a.default.mark((function t(){var n,i,r,o,s,u;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.getNews();case 2:if(n=(n=t.sent).list||[],i=[],r={},n.map((function(e){i.push({text:e.broadTitle,id:e.id,data:e}),r[e.id]=e})),o=e.oldNews,s=!1,n.map((function(e){var t=e.id;o[t]||(s=!0)})),e.oldNews=r,s){t.next=11;break}return t.abrupt("return");case 11:(u=$("#notice").get(0)).showData=i,u.clickFn=function(e){var t=e.data,n=t.broadType;if(console.log(t),0==n){var i=t.id;f.openPage("../publish/o_news.html?id=".concat(i))}else{t.broadContent;var a,r,o,s,c,u=(null!==(a=t.companyName)&&void 0!==a?a:"")+(null!==(r=t.deptName)&&void 0!==r?r:""),d=null!==(o=t.createTime)&&void 0!==o?o:"",l=null!==(s=t.userName)&&void 0!==s?s:" ",p=null!==(c=t.orderMoney)&&void 0!==c?c:0,h="../publish/o_news1.html?info=".concat(u,"&date=").concat(d,"&username=").concat(l,"&money=").concat(p);f.openPage(h)}};case 14:case"end":return t.stop()}}),t)})))()},createSearch:function(){var e=$("#search1").get(0),t=this;e.inputData=[{name:"",type:"search",id:"searchKey",width:"100%",placeholder:"请输入您要搜索的客户名、客户手机号、身份证号、订单号"}],e.clickFn=function(e){e.pageNum=1,c.showLoadingRun(t,"getData",e)},w.searchSet(e,"search")},createList:function(e){var t=this,n=$("#table_list").get(0);h.set(n,"index");var i=!1;e.map((function(e){var n,a;e.key9="../res/image/edit.png";var r=e.currentNodeKey;r=null!==(n=r.split("_")[0])&&void 0!==n?n:"",e.icon_=null!==(a=x[r])&&void 0!==a?a:"",e.orderStatus_=t.orderStateDist[e.orderStatus],e.phone_=e.mobile,e.businessKey_=t.businessDist[e.businessKey],e.createTime_=g.getDate1(e.createTime),e.applyMoney_=m(e.applyMoney,5);var o="";e.remainTime&&(o=parseInt(e.remainTime)>0?'<span>剩余<a style="color:red;">'+e.remainTime+"</a>天</span>":'<span>逾期<a style="color:red;">'+e.remainTime+"</a>天</span>"),o+="<span>("+e.currentNodeName+")</span>",e.remainTime_=o,e.remainTime<=0&&(i=!0)})),this.userLock=i,parent.window.userLock(i),n.show(e),n.body.find(".__row__").click((0,o.default)(a.default.mark((function e(){var t,n,i,r,o,s,c;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=$(this).data("data"),n=t.id,i=t.orderNo,r=t.currentNodeKey,e.next=6,y(r);case 6:o=e.sent,s=o.url,c=o.title,f.openPage("".concat(s,"?id=").concat(n,"&orderNo=").concat(i,"&currentNodeKey=").concat(r,"&title=").concat(c),p.publish_review.width,p.publish_review.height);case 10:case"end":return e.stop()}}),e,this)}))))},refreshList:function(){var e=this.catchListParam;console.log("refresh"),c.showLoadingRun(this,"getData",e)},addEventEnter:function(){var e=$("#search1").get(0).body.find("b-input").get(0).body.find("input"),t=!1,n=this;e.focus((function(){t=!0})),e.blur((function(){t=!1})),window.addEventListener("keydown",(function(i){if(t&&"Enter"==i.code){var a={searchKey:e.val(),pageNum:1};c.showLoadingRun(n,"getData",a)}}),!1)}};window.refreshList=function(){b.refreshList()},s.run(b)},127:function(e,t,n){"use strict";var i=n(0),a=i(n(21)),r=i(n(36)),o=i(n(22)),s=i(n(25)),c=i(n(26)),u=i(n(24)),d=i(n(31));function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,u.default)(e);if(t){var a=(0,u.default)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return(0,c.default)(this,n)}}n(4);var f=n(56);n(43);var p=n(32),h=n(35),v=function(e){(0,s.default)(n,e);var t=l(n);function n(){var e;(0,a.default)(this,n),(e=t.call(this)).body=null,e.shadow=e.attachShadow({mode:"open"});var i=p("../res/css/all.css");e.shadow.appendChild(i),e.createStyle();var o=h(e.cssText);return e.shadow.appendChild(o),e.createElement(),e.userClickFn=function(){},e.shadow.appendChild(e.body.get(0)),e.canRun=!1,e.animateTime=parseInt($((0,r.default)(e)).attr("animateTime")),e.animateFn=null,e.addAnimateFn(),e.addEvent(),e}return(0,o.default)(n,[{key:"connectedCallback",value:function(){var e=this;setTimeout((function(){e.body.css({display:"flex"})}),0)}}]),(0,o.default)(n,[{key:"getAnimateWidth",value:function(){var e=parseInt(this.scrollDiv.parent().width()),t=parseInt(this.scrollDiv.width());this.animateWidth=e+t,this.scrollerWidth=t}},{key:"createElement",value:function(){var e=$('<div class="notice box_hlc" style="display: none;"></div>'),t=$('<img src="./image/notice.png"/>'),n=$("<p>信息播报：</p>"),i=$('<div class="boxflex1 notice_main"></div>'),a=$('<div class="notice_scroller box_hlc"></div>'),r=$('<span class="hover"></span>');e.append(t).append(n).append(i),i.append(a),this.scrollDiv=a,this.item=r,this.body=e}},{key:"createStyle",value:function(){this.cssText=[".notice{padding:0 20px;height: 50px;background: #fff;}",".notice img{display: block;width: 24px;height: 20px;margin-right: 10px;}",".notice p{font-size: 14px; color: #000000;}",".notice_main{position: relative;overflow: hidden;height: 50px;}",".notice_scroller{position: absolute;left:0; top:0;height: 50px;font-size: 12px;}",".notice_scroller span{padding:0 20px;font-size: 12px;}"].join("")}},{key:"run",value:function(e){var t=this.animateWidth*(1-e)-this.scrollerWidth;this.scrollDiv.css({transform:"translateX("+t+"px)"})}},{key:"addAnimateFn",value:function(){var e=this;this.animateFn=new f({start:0,end:1,time:this.animateTime,type:"Linear",class:"Linear",stepFn:function(t){e.run(t)},endFn:function(){},alternate:!1,infinite:!0})}},{key:"createList",value:function(e){var t=this.scrollDiv,n=this.item,i=this;t.find("span").unbind("click"),t.html(""),e.map((function(e){var a=n.clone();a.data({data:e}),a.text(e.text),a.click((function(){var e=$(this).data("data");i.userClickFn(e)})),t.append(a)}))}},{key:"addEvent",value:function(){var e=this;$(window).resize((function(){e.getAnimateWidth()})),this.scrollDiv.hover((function(){e.animateFn.stop()}),(function(){e.animateFn.play()}))}},{key:"showData",set:function(e){if(e&&0!=e.length){this.canRun=!0;var t=this;setTimeout((function(){t.animateFn&&t.animateFn.stop(),t.createList(e),t.getAnimateWidth(),t.animateFn.restart()}),300),setTimeout((function(){t.getAnimateWidth()}),500)}else this.scrollDiv.text("暂无通知！")}},{key:"clickFn",set:function(e){e=e||function(){},this.userClickFn=e}}]),n}((0,d.default)(HTMLElement));customElements.get("b-index-notice")||customElements.define("b-index-notice",v)}});