!function(e){function t(t){for(var a,o,s=t[0],c=t[1],u=t[2],d=0,p=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&p.push(i[o][0]),i[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);for(l&&l(t);p.length;)p.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,s=1;s<n.length;s++){var c=n[s];0!==i[c]&&(a=!1)}a&&(r.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},i={40:0},r=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;r.push([125,0]),n()}({125:function(e,t,n){"use strict";var a=n(0),i=a(n(1)),r=a(n(10)),o=a(n(2)),s=n(6),c=(n(4),n(7)),u=n(5),l=u.ajax,d=u.api,p=n(3),f=(n(14),n(9)),h=n(11),v=n(12),m=n(17),g=n(13),y=n(36),x=n(8);n(30),n(34),n(126),n(39),n(33);var w={DIAN:"../res/image/index/dz.png",FANG:"../res/image/index/fd.png",TUI:"../res/image/index/tk.png",DAIHOU:"../res/image/index/dh.png",ZHAN:"../res/image/index/zq.png",DINGDAN:"../res/image/index/sc.png",HEXIAO:"../res/image/index/hx.png",CHU:"../res/image/index/ck.png",FENQI:"../res/image/index/fd.png",HUAN:"../res/image/index/fd.png"},b={userLock:!1,init:function(){c.showLoadingRun(this,"run")},run:function(){var e=this;return(0,o.default)(i.default.mark((function t(){var n,a,o,s;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.getUserInfo();case 2:return e.btnBindEvent(),e.createSearch(),t.next=6,l.send([d.index_sort_number()]);case 6:return n=t.sent,a=(0,r.default)(n,1),o=a[0],s=o.ranking||"",$("#number_").text(s),e.createNoticeFn(),t.next=14,v("orderState1");case 14:return e.orderStateDist=t.sent,t.next=17,v("businessType");case 17:return e.businessDist=t.sent,t.next=20,e.getData({pageNum:1});case 20:case"end":return t.stop()}}),t)})))()},getData:function(e){var t=this;return(0,o.default)(i.default.mark((function n(){var a,o,s;return i.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.pageSize=9999999,n.next=3,l.send([d.index_list(e)]);case 3:a=n.sent,o=(0,r.default)(a,1),s=(s=o[0]).list||[],t.createList(s);case 8:case"end":return n.stop()}}),n)})))()},btnBindEvent:function(){var e=$("#add_order"),t=$("#show_ph"),n=this;e.click((function(){n.userLock?p.alert("您有即将到期的待处理任务未处理！"):0!=window.orderCreatePrivilegeType?p.openPage("../index/o_add_order.html",f.index_add_step1.width,f.index_add_step1.height):p.alert("您没有创建订单的权限！")})),t.click((function(){if(n.userLock)p.alert("您有即将到期的待处理任务未处理！");else{var e=!1;if(window.orderSearchPrivilegeType>=2&&(e=!0),e)p.openPage("../index/sort.html",f.sort.width,f.sort.height);else{var t=g.getNowMonthDay(),a=(0,r.default)(t,2),i=a[0],o=a[1];parent.window.chooseNav("business.html");var s="../business/business.html?sDay=".concat(i,"&eDay=").concat(o,"&state=").concat(99);parent.window.iframeOpen(s)}}}))},createNoticeFn:function(){var e=this;setInterval((function(){e.createNotice()}),6e4),e.createNotice()},oldNews:{},createNotice:function(){var e=this;return(0,o.default)(i.default.mark((function t(){var n,a,r,o,s,u;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.getNews();case 2:if(n=(n=t.sent).list||[],a=[],r={},n.map((function(e){a.push({text:e.broadTitle,id:e.id,data:e}),r[e.id]=e})),o=e.oldNews,s=!1,n.map((function(e){var t=e.id;o[t]||(s=!0)})),e.oldNews=r,s){t.next=11;break}return t.abrupt("return");case 11:(u=$("#notice").get(0)).showData=a,u.clickFn=function(e){var t=e.data,n=t.broadType;if(console.log(t),0==n){var a=t.id;p.openPage("../publish/o_news.html?id=".concat(a))}else{t.broadContent;var i,r,o,s,c,u=(null!==(i=t.companyName)&&void 0!==i?i:"")+(null!==(r=t.deptName)&&void 0!==r?r:""),l=null!==(o=t.createTime)&&void 0!==o?o:"",d=null!==(s=t.userName)&&void 0!==s?s:" ",f=null!==(c=t.orderMoney)&&void 0!==c?c:0,h="../publish/o_news1.html?info=".concat(u,"&date=").concat(l,"&username=").concat(d,"&money=").concat(f);p.openPage(h)}};case 14:case"end":return t.stop()}}),t)})))()},createSearch:function(){var e=$("#search1").get(0),t=this;e.inputData=[{name:"",type:"search",id:"searchKey",width:"100%",placeholder:"请输入您要搜索的客户名、客户手机号、身份证号、订单号"}],e.clickFn=function(e){e.pageNum=1,c.showLoadingRun(t,"getData",e)},x.searchSet(e)},createList:function(e){var t=this,n=$("#table_list").get(0);h.set(n,"index");var a=!1;e.map((function(e){var n,i;e.key9="../res/image/edit.png";var r=e.currentNodeKey;r=null!==(n=r.split("_")[0])&&void 0!==n?n:"",e.icon_=null!==(i=w[r])&&void 0!==i?i:"",e.orderStatus_=t.orderStateDist[e.orderStatus],e.phone_=e.mobile,e.businessKey_=t.businessDist[e.businessKey],e.createTime_=g.getDate1(e.createTime),e.applyMoney_=m(e.applyMoney,5);var o="";e.remainTime&&(o=parseInt(e.remainTime)>0?'<span>剩余<a style="color:red;">'+e.remainTime+"</a>天</span>":'<span>逾期<a style="color:red;">'+e.remainTime+"</a>天</span>"),o+="<span>(当前"+e.currentNodeName+")</span>",e.remainTime_=o,e.remainTime<=0&&(a=!0)})),this.userLock=a,parent.window.userLock(a),n.show(e),n.body.find(".__row__").click((0,o.default)(i.default.mark((function e(){var t,n,a,r,o,s,c;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=$(this).data("data"),n=t.id,a=t.orderNo,r=t.currentNodeKey,e.next=6,y(r);case 6:o=e.sent,s=o.url,c=o.title,p.openPage("".concat(s,"?id=").concat(n,"&orderNo=").concat(a,"&currentNodeKey=").concat(r,"&title=").concat(c),f.publish_review.width,f.publish_review.height);case 10:case"end":return e.stop()}}),e,this)}))))}};s.run(b)},126:function(e,t,n){"use strict";var a=n(0),i=a(n(21)),r=a(n(35)),o=a(n(22)),s=a(n(25)),c=a(n(26)),u=a(n(24)),l=a(n(31));function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var i=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}n(4);var p=n(56);n(43);var f=n(32),h=n(37),v=function(e){(0,s.default)(n,e);var t=d(n);function n(){var e;(0,i.default)(this,n),(e=t.call(this)).body=null,e.shadow=e.attachShadow({mode:"open"});var a=f("../res/css/all.css");e.shadow.appendChild(a),e.createStyle();var o=h(e.cssText);return e.shadow.appendChild(o),e.createElement(),e.userClickFn=function(){},e.shadow.appendChild(e.body.get(0)),e.canRun=!1,e.animateTime=parseInt($((0,r.default)(e)).attr("animateTime")),e.animateFn=null,e.addAnimateFn(),e.addEvent(),e}return(0,o.default)(n,[{key:"connectedCallback",value:function(){var e=this;setTimeout((function(){e.body.css({display:"flex"})}),0)}}]),(0,o.default)(n,[{key:"getAnimateWidth",value:function(){var e=parseInt(this.scrollDiv.parent().width()),t=parseInt(this.scrollDiv.width());this.animateWidth=e+t,this.scrollerWidth=t}},{key:"createElement",value:function(){var e=$('<div class="notice box_hlc" style="display: none;"></div>'),t=$('<img src="./image/notice.png"/>'),n=$("<p>信息播报：</p>"),a=$('<div class="boxflex1 notice_main"></div>'),i=$('<div class="notice_scroller box_hlc"></div>'),r=$('<span class="hover"></span>');e.append(t).append(n).append(a),a.append(i),this.scrollDiv=i,this.item=r,this.body=e}},{key:"createStyle",value:function(){this.cssText=[".notice{padding:0 20px;height: 50px;background: #fff;}",".notice img{display: block;width: 24px;height: 20px;margin-right: 10px;}",".notice p{font-size: 14px; color: #000000; font-weight: bold;}",".notice_main{position: relative;overflow: hidden;height: 50px;}",".notice_scroller{position: absolute;left:0; top:0;height: 50px;font-size: 12px;}",".notice_scroller span{padding:0 20px;font-size: 12px;}"].join("")}},{key:"run",value:function(e){var t=this.animateWidth*(1-e)-this.scrollerWidth;this.scrollDiv.css({transform:"translateX("+t+"px)"})}},{key:"addAnimateFn",value:function(){var e=this;this.animateFn=new p({start:0,end:1,time:this.animateTime,type:"Linear",class:"Linear",stepFn:function(t){e.run(t)},endFn:function(){},alternate:!1,infinite:!0})}},{key:"createList",value:function(e){var t=this.scrollDiv,n=this.item,a=this;t.find("span").unbind("click"),t.html(""),e.map((function(e){var i=n.clone();i.data({data:e}),i.text(e.text),i.click((function(){var e=$(this).data("data");a.userClickFn(e)})),t.append(i)}))}},{key:"addEvent",value:function(){var e=this;$(window).resize((function(){e.getAnimateWidth()})),this.scrollDiv.hover((function(){e.animateFn.stop()}),(function(){e.animateFn.play()}))}},{key:"showData",set:function(e){if(e&&0!=e.length){this.canRun=!0;var t=this;setTimeout((function(){t.animateFn&&t.animateFn.stop(),t.createList(e),t.getAnimateWidth(),t.animateFn.restart()}),300)}else this.scrollDiv.text("暂无通知！")}},{key:"clickFn",set:function(e){e=e||function(){},this.userClickFn=e}}]),n}((0,l.default)(HTMLElement));customElements.get("b-index-notice")||customElements.define("b-index-notice",v)}});