!function(e){function t(t){for(var n,a,d=t[0],u=t[1],l=t[2],s=0,c=[];s<d.length;s++)a=d[s],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&c.push(o[a][0]),o[a]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);for(f&&f(t);c.length;)c.shift()();return i.push.apply(i,l||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,d=1;d<r.length;d++){var u=r[d];0!==o[u]&&(n=!1)}n&&(i.splice(t--,1),e=a(a.s=r[0]))}return e}var n={},o={46:0},i=[];function a(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=n,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var d=window.webpackJsonp=window.webpackJsonp||[],u=d.push.bind(d);d.push=t,d=d.slice();for(var l=0;l<d.length;l++)t(d[l]);var f=u;i.push([136,0]),r()}({136:function(e,t,r){"use strict";var n=r(0),o=n(r(1)),i=n(r(9)),a=n(r(2)),d=r(7),u=(r(4),r(5)),l=r(6),f=l.ajax,s=l.api,c=r(3),g=r(44),p=r(15),v=(r(14),r(12)),h=r(10),_=r(17),y=(r(60),r(11),r(13),r(8));r(21),r(18),r(29),r(16),r(20),r(28),r(19);var b={init:function(){u.showLoadingRun(this,"run")},run:function(){var e=this;return(0,a.default)(o.default.mark((function t(){var r,n,a,d,l,c,g,h;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return y.set(!0,!0),e.createBTitlesBtn(),d=p(),e.id=d.id,t.next=6,u.getUserInfo();case 6:return t.next=8,v($("#form"));case 8:return t.next=10,f.send([s.order_get_byId({id:e.id}),s.setting_config_list({type:20})]);case 10:return l=t.sent,c=(0,i.default)(l,2),g=c[0],h=c[1],e.orderNo=g.orderNo,e.orderData=g,h=null!==(r=h[0])&&void 0!==r?r:{},h=null!==(n=h.children)&&void 0!==n?n:[],h=(h=null!==(a=h[0])&&void 0!==a?a:{}).value,e.zxfl=h,e.btnEventBind(),t.next=24,e.backDataToForm(g);case 24:return e.inputEventBind2(),t.next=27,u.setOrderTopData(2,g);case 27:case"end":return t.stop()}}),t)})))()},btnEventBind:function(){var e=this;$("#pre").click((function(){c.openPage("../index/o_add_order_info.html?id="+e.id,h.index_add_step2.width,h.index_add_step2.height),c.closeWin()})),$("#next").click((function(){u.showLoadingRun(e,"submitFn")}))},createBTitlesBtn:function(){g.addLevel2BtnFn($("#additional_mortgage").get(0),$("#additional_mortgage_body"),$("#additional_mortgage_item1"),$("#additional_mortgage_item2"),(function(e){g.addChildDelFn(e.find(".mortgage_info1_").get(0),e.find(".mortgage_info_body1_"),$("#mortgage_info_item"),!0),e.find(".mortgage_info1_").get(0).body.find(".btn").trigger("click")}),(function(){}))},inputEventBind2:function(){var e,t,r=null!==(e=null===(t=this.orderData)||void 0===t?void 0:t.applyMoney)&&void 0!==e?e:0,n=$("#orderRateInfo_overdueRate").get(0),o=$("#orderRateInfo_period").get(0),i=$("#orderRateInfo_consultationFee").get(0),a=$("#orderRateInfo_warrantFee").get(0),d=$("#orderRateInfo_preferentialFee").get(0),u=$("#orderRateInfo_totalCost").get(0),l=$("#orderRateInfo_consultationRate").get(0),f=this,s=function(){l.value=_(f.zxfl,5),n.value=.15;var e=r*o.value*30*l.value/100;e=e<3e3?3e3:e,i.value=_(e,2);var t=1*i.value+1*a.value-1*d.value;u.value=_(t,2)};s(),o.change=function(){s()},a.change=function(){s()},d.change=function(){s()}},backDataToForm:function(e){return(0,a.default)(o.default.mark((function t(){var r,n,a,d,l,f,s,c,g,p,v,h,_,y,b,m,x;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for((d=null!==(r=null===(n=e.orderRateInfo)||void 0===n?void 0:n.period)&&void 0!==r?r:0)&&(e.orderRateInfo.period=parseInt(d/30)),l=0,f=Object.entries(e);l<f.length;l++)if(s=(0,i.default)(f[l],2),c=s[0],g=s[1],$.isObject(g))for(p=0,v=Object.entries(g);p<v.length;p++)h=(0,i.default)(v[p],2),_=h[0],y=h[1],e[c+"_"+_]=y;return b=null!==(a=e.additionalMortgagePropertyRightList)&&void 0!==a?a:[],m=[],x=[],b.map((function(e){1==e.category&&x.push(e),2==e.category&&m.push(e)})),e.additionalMortgagePropertyRightList1=x,e.additionalMortgagePropertyRightList2=m,t.next=9,u.setFromGroupVal_order($("#form"),e);case 9:case"end":return t.stop()}}),t)})))()},submitFn:function(){var e=this;return(0,a.default)(o.default.mark((function t(){var r,n,i,a,d,l,g;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.getFromGroupVal_order($("#form"));case 2:return l=t.sent,l=u.handlerFromDataByObj(l),g=null!==(r=null===(n=l.orderRateInfo)||void 0===n?void 0:n.period)&&void 0!==r?r:0,l.orderRateInfo.period=30*g,l.additionalMortgagePropertyRightList1=null!==(i=l.additionalMortgagePropertyRightList1)&&void 0!==i?i:[],l.additionalMortgagePropertyRightList2=null!==(a=l.additionalMortgagePropertyRightList2)&&void 0!==a?a:[],l.additionalMortgagePropertyRightList=null===(d=l.additionalMortgagePropertyRightList1)||void 0===d?void 0:d.concat(l.additionalMortgagePropertyRightList2),delete l.additionalMortgagePropertyRightList1,delete l.additionalMortgagePropertyRightList2,delete l.additionalMortgagePropertyRightListOrderMortgageExtendMortgageList,l.id=e.id,l.orderNo=e.orderNo,t.next=16,u.uploadDataOfFiles(l);case 16:return console.log(l),t.next=19,f.send([s.order_add_step3(l)]);case 19:return t.next=21,c.alert("保存成功!");case 21:c.openPage("../index/o_add_order_view.html?id="+e.id+"&state=1",h.index_add_step4.width,h.index_add_step4.height),c.closeWin();case 23:case"end":return t.stop()}}),t)})))()}};d.run(b)}});