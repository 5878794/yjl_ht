!function(e){function t(t){for(var n,i,d=t[0],u=t[1],l=t[2],f=0,s=[];f<d.length;f++)i=d[f],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&s.push(o[i][0]),o[i]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);for(c&&c(t);s.length;)s.shift()();return a.push.apply(a,l||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,d=1;d<r.length;d++){var u=r[d];0!==o[u]&&(n=!1)}n&&(a.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},o={35:0},a=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var d=window.webpackJsonp=window.webpackJsonp||[],u=d.push.bind(d);d.push=t,d=d.slice();for(var l=0;l<d.length;l++)t(d[l]);var c=u;a.push([121,0]),r()}({121:function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(16)),i=n(r(2)),d=r(4),u=(r(3),r(13)),l=r(10),c=l.ajax,f=l.api,s=r(9),p=r(42),g=r(33),v=(r(32),r(21)),h=r(18),_=r(40),y=(r(54),r(8),r(29),r(5));r(22),r(7),r(24),r(6),r(11),r(23);var b={init:function(){u.showLoadingRun(this,"run")},run:function(){var e=this;return(0,i.default)(o.default.mark((function t(){var r,n,i,d;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return y.set(!0,!0),e.createBTitlesBtn(),r=g(),e.id=r.id,t.next=6,u.getUserInfo();case 6:return t.next=8,v($("#form"));case 8:return t.next=10,c.send([f.order_get_byId({id:e.id})]);case 10:return n=t.sent,i=(0,a.default)(n,1),d=i[0],e.orderNo=d.orderNo,e.orderData=d,console.log(d),e.btnEventBind(),t.next=19,e.backDataToForm(d);case 19:return e.inputEventBind2(),t.next=22,u.setOrderTopData(2,d);case 22:case"end":return t.stop()}}),t)})))()},btnEventBind:function(){var e=this;$("#pre").click((function(){s.openPage("./o_add_order_info.html?id="+e.id,h.index_add_step2.width,h.index_add_step2.height)})),$("#next").click((function(){u.showLoadingRun(e,"submitFn")}))},createBTitlesBtn:function(){p.addLevel2BtnFn($("#additional_mortgage").get(0),$("#additional_mortgage_body"),$("#additional_mortgage_item1"),$("#additional_mortgage_item2"))},inputEventBind2:function(){var e,t,r=null!==(e=null===(t=this.orderData)||void 0===t?void 0:t.applyMoney)&&void 0!==e?e:0,n=$("#orderRateInfo_overdueRate").get(0),o=$("#orderRateInfo_period").get(0),a=$("#orderRateInfo_consultationFee").get(0),i=$("#orderRateInfo_warrantFee").get(0),d=$("#orderRateInfo_preferentialFee").get(0),u=$("#orderRateInfo_totalCost").get(0),l=$("#orderRateInfo_consultationRate").get(0),c=function(){l.value=_(1,2),n.value=.15;var e=r*o.value*30*l.value/100;e=e<3e3?3e3:e,a.value=_(e,5);var t=1*a.value+1*i.value-1*d.value;u.value=_(t,5)};c(),o.change=function(){c()},i.change=function(){c()},d.change=function(){c()}},backDataToForm:function(e){return(0,i.default)(o.default.mark((function t(){var r,n,i,d,l,c,f,s,p,g,v,h,_,y,b,m,x;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for((d=null!==(r=null===(n=e.orderRateInfo)||void 0===n?void 0:n.period)&&void 0!==r?r:0)&&(e.orderRateInfo.period=parseInt(d/30)),l=0,c=Object.entries(e);l<c.length;l++)if(f=(0,a.default)(c[l],2),s=f[0],p=f[1],$.isObject(p))for(g=0,v=Object.entries(p);g<v.length;g++)h=(0,a.default)(v[g],2),_=h[0],y=h[1],e[s+"_"+_]=y;return b=null!==(i=e.additionalMortgagePropertyRightList)&&void 0!==i?i:[],m=[],x=[],b.map((function(e){1==e.category&&x.push(e),2==e.category&&m.push(e)})),e.additionalMortgagePropertyRightList1=x,e.additionalMortgagePropertyRightList2=m,t.next=9,u.setFromGroupVal($("#form"),e);case 9:case"end":return t.stop()}}),t)})))()},submitFn:function(){var e=this;return(0,i.default)(o.default.mark((function t(){var r,n,a,i,d,l;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.getFromGroupVal($("#form"));case 2:return d=t.sent,d=u.handlerFromDataByObj(d),l=null!==(r=null===(n=d.orderRateInfo)||void 0===n?void 0:n.period)&&void 0!==r?r:0,d.orderRateInfo.period=30*l,d.additionalMortgagePropertyRightList=null!==(a=d.additionalMortgagePropertyRightList1)&&void 0!==a?a:[].concat(null!==(i=d.additionalMortgagePropertyRightList2)&&void 0!==i?i:[]),delete d.additionalMortgagePropertyRightList1,delete d.additionalMortgagePropertyRightList2,d.id=e.id,d.orderNo=e.orderNo,t.next=13,c.send([f.order_add_step3(d)]);case 13:return t.next=15,s.alert("保存成功!");case 15:s.openPage("./o_add_order_view.html?id="+e.id,h.index_add_step4.width,h.index_add_step4.height);case 16:case"end":return t.stop()}}),t)})))()}};d.run(b)}});