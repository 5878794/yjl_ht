!function(e){function t(t){for(var n,i,d=t[0],u=t[1],l=t[2],c=0,f=[];c<d.length;c++)i=d[c],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&f.push(o[i][0]),o[i]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);for(s&&s(t);f.length;)f.shift()();return a.push.apply(a,l||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,d=1;d<r.length;d++){var u=r[d];0!==o[u]&&(n=!1)}n&&(a.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},o={35:0},a=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var d=window.webpackJsonp=window.webpackJsonp||[],u=d.push.bind(d);d.push=t,d=d.slice();for(var l=0;l<d.length;l++)t(d[l]);var s=u;a.push([122,0]),r()}({122:function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(11)),i=n(r(2)),d=r(4),u=(r(3),r(8)),l=r(7),s=l.ajax,c=l.api,f=r(6),p=r(43),g=r(17),v=(r(14),r(12)),h=r(10),_=r(18),y=(r(56),r(9),r(13),r(5));r(27),r(16),r(29),r(15),r(20),r(28);var b={init:function(){u.showLoadingRun(this,"run")},run:function(){var e=this;return(0,i.default)(o.default.mark((function t(){var r,n,i,d;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return y.set(!0,!0),e.createBTitlesBtn(),r=g(),e.id=r.id,t.next=6,u.getUserInfo();case 6:return t.next=8,v($("#form"));case 8:return t.next=10,s.send([c.order_get_byId({id:e.id})]);case 10:return n=t.sent,i=(0,a.default)(n,1),d=i[0],e.orderNo=d.orderNo,e.orderData=d,console.log(d),e.btnEventBind(),t.next=19,e.backDataToForm(d);case 19:return e.inputEventBind2(),t.next=22,u.setOrderTopData(2,d);case 22:case"end":return t.stop()}}),t)})))()},btnEventBind:function(){var e=this;$("#pre").click((function(){f.openPage("./o_add_order_info.html?id="+e.id,h.index_add_step2.width,h.index_add_step2.height)})),$("#next").click((function(){u.showLoadingRun(e,"submitFn")}))},createBTitlesBtn:function(){p.addLevel2BtnFn($("#additional_mortgage").get(0),$("#additional_mortgage_body"),$("#additional_mortgage_item1"),$("#additional_mortgage_item2"))},inputEventBind2:function(){var e,t,r=null!==(e=null===(t=this.orderData)||void 0===t?void 0:t.applyMoney)&&void 0!==e?e:0,n=$("#orderRateInfo_overdueRate").get(0),o=$("#orderRateInfo_period").get(0),a=$("#orderRateInfo_consultationFee").get(0),i=$("#orderRateInfo_warrantFee").get(0),d=$("#orderRateInfo_preferentialFee").get(0),u=$("#orderRateInfo_totalCost").get(0),l=$("#orderRateInfo_consultationRate").get(0),s=function(){l.value=_(1,2),n.value=.15;var e=r*o.value*30*l.value/100;e=e<3e3?3e3:e,a.value=_(e,5);var t=1*a.value+1*i.value-1*d.value;u.value=_(t,5)};s(),o.change=function(){s()},i.change=function(){s()},d.change=function(){s()}},backDataToForm:function(e){return(0,i.default)(o.default.mark((function t(){var r,n,i,d,l,s,c,f,p,g,v,h,_,y,b,m,R;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for((d=null!==(r=null===(n=e.orderRateInfo)||void 0===n?void 0:n.period)&&void 0!==r?r:0)&&(e.orderRateInfo.period=parseInt(d/30)),l=0,s=Object.entries(e);l<s.length;l++)if(c=(0,a.default)(s[l],2),f=c[0],p=c[1],$.isObject(p))for(g=0,v=Object.entries(p);g<v.length;g++)h=(0,a.default)(v[g],2),_=h[0],y=h[1],e[f+"_"+_]=y;return b=null!==(i=e.additionalMortgagePropertyRightList)&&void 0!==i?i:[],m=[],R=[],b.map((function(e){1==e.category&&R.push(e),2==e.category&&m.push(e)})),e.additionalMortgagePropertyRightList1=R,e.additionalMortgagePropertyRightList2=m,t.next=9,u.setFromGroupVal($("#form"),e);case 9:case"end":return t.stop()}}),t)})))()},submitFn:function(){var e=this;return(0,i.default)(o.default.mark((function t(){var r,n,a,i,d,l,p;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.getFromGroupVal($("#form"));case 2:return l=t.sent,l=u.handlerFromDataByObj(l),p=null!==(r=null===(n=l.orderRateInfo)||void 0===n?void 0:n.period)&&void 0!==r?r:0,l.orderRateInfo.period=30*p,l.additionalMortgagePropertyRightList1=null!==(a=l.additionalMortgagePropertyRightList1)&&void 0!==a?a:[],l.additionalMortgagePropertyRightList2=null!==(i=l.additionalMortgagePropertyRightList2)&&void 0!==i?i:[],l.additionalMortgagePropertyRightList=null===(d=l.additionalMortgagePropertyRightList1)||void 0===d?void 0:d.concat(l.additionalMortgagePropertyRightList2),delete l.additionalMortgagePropertyRightList1,delete l.additionalMortgagePropertyRightList2,l.id=e.id,l.orderNo=e.orderNo,t.next=15,s.send([c.order_add_step3(l)]);case 15:return t.next=17,f.alert("保存成功!");case 17:f.openPage("./o_add_order_view.html?id="+e.id+"&state=1",h.index_add_step4.width,h.index_add_step4.height);case 18:case"end":return t.stop()}}),t)})))()}};d.run(b)}});