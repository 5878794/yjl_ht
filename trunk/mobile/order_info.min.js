!function(e){function t(t){for(var n,o,s=t[0],d=t[1],u=t[2],l=0,p=[];l<s.length;l++)o=s[l],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&p.push(a[o][0]),a[o]=0;for(n in d)Object.prototype.hasOwnProperty.call(d,n)&&(e[n]=d[n]);for(c&&c(t);p.length;)p.shift()();return i.push.apply(i,u||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,s=1;s<r.length;s++){var d=r[s];0!==a[d]&&(n=!1)}n&&(i.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},a={57:0},i=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window.webpackJsonp=window.webpackJsonp||[],d=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var c=d;i.push([148,0]),r()}({148:function(e,t,r){"use strict";var n=r(0),a=n(r(1)),i=n(r(10)),o=n(r(2)),s=r(6),d=(r(4),r(7)),u=r(5),c=u.ajax,l=u.api,p=r(3),f=(r(14),r(15)),g=r(12),h=r(9),v=(r(11),r(47)),m=r(46),y=r(13),b=(r(8),{init:function(){d.showLoadingRun(this,"run")},getParam:function(){var e=window.sessionStorage.getItem("userInfo")||"{}",t=JSON.parse(e);t.token?(window.token=t.token,window.companyId=t.companyId,window.userName=t.userName,window.orderSearchPrivilegeType=t.orderSearchPrivilegeType,window.orderCreatePrivilegeType=t.orderCreatePrivilegeType,window.userInfo=t):window.location.replace("./index.html")},run:function(){var e=this;return(0,o.default)(a.default.mark((function t(){var r,n,o,s;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=f(),e.id=r.id,e.state=r.state||0,e.btnEventBind(),e.getParam(),t.next=7,c.send([l.order_get_byId({id:e.id})]);case 7:return n=t.sent,o=(0,i.default)(n,1),s=o[0],e.type=s.businessKey,e.orderNo=s.orderNo,e.showHideDom(),t.next=15,e.bindData1(s);case 15:return t.next=17,e.bindData2(s);case 17:if(1!=e.type){t.next=22;break}return t.next=20,e.bindData3(s);case 20:t.next=24;break;case 22:return t.next=24,e.bindData4(s);case 24:case"end":return t.stop()}}),t)})))()},showHideDom:function(){var e=this.type;1==e?$(".__dz_fdz__").remove():2==e?$(".__fd__").remove():3==e&&($(".__fd__").remove(),$(".__fdz_no__").remove())},btnEventBind:function(){1==this.state?$("#info_btn").remove():$("#index_btn").remove();var e=this;$("#pre").click((function(){p.openPage("../index/o_add_order.html?id="+e.id,h.index_add_step1.width,h.index_add_step1.height),p.closeWin()})),$("#next").click((function(){d.showLoadingRun(e,"submit")})),$("#close").click((function(){window.history.go(-1)}))},bindDataFn:function(e,t){var r=function(e,t){e.each((function(){var e,r=this,n=$(this).attr("key"),a=$('<a class="box_hcc"></a>');if(n.indexOf("_")>-1){var i,o,s=n.split("_"),d=s[0],u=s[1];e=null!==(o=(e=null!==(i=t[d])&&void 0!==i?i:{})[u])&&void 0!==o?o:[]}else e=t[n];e.map((function(e){var t=a.clone(),n=new Image;t.append(n),n.onload=function(){var e=v(this.width,this.height,100,100),t=e.width,r=e.height;this.width=t-2,this.height=r-2},n.src=e,$(r).append(t)}))})),e.find("a").click((function(){var e=$(this).find("img").attr("src");new m({imgs:[e]}).showImg(0)}))};e.find("span").each((function(){var e,r=$(this).attr("id"),n=null!==(e=$(this).attr("unit"))&&void 0!==e?e:"";if(r)if(r.indexOf("_")>-1){var a,i,o=r.split("_"),s=o[0],d=o[1],u=null!==(i=(null!==(a=t[s])&&void 0!==a?a:{})[d])&&void 0!==i?i:"";$(this).text(u+" "+n)}else{var c,l=null!==(c=t[r])&&void 0!==c?c:"";$(this).text(l+" "+n)}})),e.find("div[bind-group]").each((function(){var e=$(this).attr("bind-group"),n=$(this).attr("id"),a=$("#"+n),i=$("#"+(n+"_item")),o=t[e]||[];if(0==o.length){if(i.find("b-title1").length>0){var s=i.find("b-title1").clone();a.append(s)}a.append('<div class="noData">无数据</div>')}o.map((function(e){var t=i.clone().attr({id:""}).removeClass("hidden");t.find("span").each((function(){var t=$(this).attr("key"),n=$(this).attr("unit")||"";if($(this).hasClass("_files_"))r($(this),e);else{var a=e[t]||"";$(this).text(a+" "+n)}})),a.append(t)}))}));var n=e.find(".__files__");r(n,t)},bindData1:function(e){var t=this;return(0,o.default)(a.default.mark((function r(){var n;return a.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,g("businessType");case 2:if(r.t0=r.sent,r.t0){r.next=5;break}r.t0={};case 5:n=r.t0,e.businessKey=n[e.businessKey],t.bindDataFn($("#part1"),e);case 8:case"end":return r.stop()}}),r)})))()},bindData2:function(e){var t=this;return(0,o.default)(a.default.mark((function r(){var n,i,o,s,u,c,l;return a.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,g("businessFrom");case 2:if(r.t1=n=r.sent,r.t0=null!==r.t1,!r.t0){r.next=6;break}r.t0=void 0!==n;case 6:if(!r.t0){r.next=10;break}r.t2=n,r.next=11;break;case 10:r.t2={};case 11:o=r.t2,-1!=e.businessSourceKey&&$("#part2_qt").remove(),e.businessSourceKey=o[e.businessSourceKey]||"",s=null!==(i=e.orderClientMaterialList)&&void 0!==i?i:[],u=[],c=[],l=[],s.map((function(e){1==e.attachType?u=d.getRealImageSrc(e.attachUrls):2==e.attachType?c=d.getRealImageSrc(e.attachUrls):3==e.attachType&&(l=d.getRealImageSrc(e.attachUrls))})),e.attachUrls1=u,e.attachUrls2=c,e.attachUrls3=l,t.bindDataFn($("#part2"),e);case 20:case"end":return r.stop()}}),r)})))()},bindData3:function(e){var t=this;return(0,o.default)(a.default.mark((function r(){var n,i,o,s,d,u,c;return a.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,g("residentialNature");case 2:if(r.t0=r.sent,r.t0){r.next=5;break}r.t0={};case 5:s=r.t0,e.mainMortgagePropertyRight=null!==(n=e.mainMortgagePropertyRight)&&void 0!==n?n:{},e.mainMortgagePropertyRight.type=s[e.mainMortgagePropertyRight.type]||"",e.mainMortgagePropertyRight.getTime=y.getDate1(e.mainMortgagePropertyRight.getTime||""),d=null!==(i=e.additionalMortgagePropertyRightList)&&void 0!==i?i:[],u=[],c=[],d.map((function(e){var t;e.type=null!==(t=s[e.type])&&void 0!==t?t:"",e.getTime=y.getDate1(e.getTime||""),1==e.category?u.push(e):2==e.category&&c.push(e)})),e.additionalMortgagePropertyRightList1=u,e.additionalMortgagePropertyRightList2=c,e.orderRateInfo=null!==(o=e.orderRateInfo)&&void 0!==o?o:{},e.orderRateInfo.period=parseInt(e.orderRateInfo.period/30),t.bindDataFn($("#part3"),e),t.bindDataFn($("#part4"),e);case 17:case"end":return r.stop()}}),r)})))()},bindData4:function(e){var t=this;return(0,o.default)(a.default.mark((function r(){var n,i,o,s,u,c,l,p,f,h,v,m,b,x,w,_;return a.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,g("residentialNature");case 2:if(r.t0=r.sent,r.t0){r.next=5;break}r.t0={};case 5:return v=r.t0,r.next=8,g("payBackMethod");case 8:if(r.t2=n=r.sent,r.t1=null!==r.t2,!r.t1){r.next=12;break}r.t1=void 0!==n;case 12:if(!r.t1){r.next=16;break}r.t3=n,r.next=17;break;case 16:r.t3={};case 17:return m=r.t3,r.next=20,g("payMethod");case 20:if(r.t5=i=r.sent,r.t4=null!==r.t5,!r.t4){r.next=24;break}r.t4=void 0!==i;case 24:if(!r.t4){r.next=28;break}r.t6=i,r.next=29;break;case 28:r.t6={};case 29:b=r.t6,e.mainMortgagePropertyRight=null!==(o=e.mainMortgagePropertyRight)&&void 0!==o?o:{},e.mainMortgagePropertyRight.type=v[e.mainMortgagePropertyRight.type]||"",e.mainMortgagePropertyRight.getTime=y.getDate1(e.mainMortgagePropertyRight.getTime||""),e.orderMortgageExtendAssessment=null!==(s=e.orderMortgageExtendAssessment)&&void 0!==s?s:{},e.orderMortgageExtendAssessment.attachUrls=null!==(u=d.getRealImageSrc(null!==(c=e.orderMortgageExtendAssessment.attachUrls)&&void 0!==c?c:""))&&void 0!==u?u:[],(null!==(l=e.orderMortgageExtendMortgageList)&&void 0!==l?l:[]).map((function(e){e.mortgageTime=y.getDate1(e.mortgageTime||""),e.attachUrls=d.getRealImageSrc(e.attachUrls)})),x=null!==(p=e.additionalMortgagePropertyRightList)&&void 0!==p?p:[],w=[],_=[],x.map((function(e){var t;e.type=null!==(t=v[e.type])&&void 0!==t?t:"",e.getTime=y.getDate1(e.getTime||""),1==e.category?w.push(e):2==e.category&&_.push(e)})),e.additionalMortgagePropertyRightList1=w,e.additionalMortgagePropertyRightList2=_,e.orderReturnRepayment=null!==(f=e.orderReturnRepayment)&&void 0!==f?f:{},e.orderReturnRepayment.returnModeType=m[e.orderReturnRepayment.returnModeType],e.orderTrade=null!==(h=e.orderTrade)&&void 0!==h?h:{},e.orderTrade.paymentMethodType=b[e.orderTrade.paymentMethodType],t.bindDataFn($("#part3"),e),t.bindDataFn($("#part4"),e);case 47:case"end":return r.stop()}}),r)})))()},submit:function(){var e=this;return(0,o.default)(a.default.mark((function t(){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!=e.type){t.next=5;break}return t.next=3,c.send([l.order_submit({orderNo:e.orderNo})]);case 3:t.next=7;break;case 5:return t.next=7,c.send([l.order_submit1({orderNo:e.orderNo})]);case 7:return t.next=9,p.alert("订单创建成功!");case 9:p.closeWin();case 10:case"end":return t.stop()}}),t)})))()}});s.run(b)}});