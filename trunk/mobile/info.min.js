!function(e){function t(t){for(var n,i,s=t[0],d=t[1],l=t[2],u=0,p=[];u<s.length;u++)i=s[u],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&p.push(o[i][0]),o[i]=0;for(n in d)Object.prototype.hasOwnProperty.call(d,n)&&(e[n]=d[n]);for(c&&c(t);p.length;)p.shift()();return a.push.apply(a,l||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,s=1;s<r.length;s++){var d=r[s];0!==o[d]&&(n=!1)}n&&(a.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},o={57:0},a=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window.webpackJsonp=window.webpackJsonp||[],d=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var c=d;a.push([148,0]),r()}({148:function(e,t,r){"use strict";var n=r(0),o=n(r(1)),a=n(r(9)),i=n(r(2)),s=r(7),d=r(42),l=(r(4),r(5)),c=r(6),u=c.ajax,p=c.api,f=r(3),h=r(46),m=(r(14),r(15)),y=r(12),g=r(17),v=(r(10),r(11),r(13)),b=r(8);f.loading=h.loading,r(16),r(29),r(19),r(20);var w={init:function(){l.showLoadingRun(this,"run")},getParam:function(){var e=m();this.id=e.id,this.orderNo=e.orderNo,this.type=e.type,this.currentNodeKey=e.currentNodeKey;var t=window.sessionStorage.getItem("userInfo")||"{}",r=JSON.parse(t);r.token?(window.token=r.token,window.companyId=r.companyId,window.userName=r.userName,window.orderSearchPrivilegeType=r.orderSearchPrivilegeType,window.orderCreatePrivilegeType=r.orderCreatePrivilegeType,window.userInfo=r):window.location.replace("./index.html")},run:function(){var e=this;return(0,i.default)(o.default.mark((function t(){var r,n,i,s,d,l;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.getParam(),t.next=3,u.send([p.order_get_byId({id:e.id})]);case 3:return r=t.sent,n=(0,a.default)(r,1),i=n[0],e.orderType=i.businessKey,t.next=9,y("businessType");case 9:return e.bussinessDist=t.sent,t.next=12,y("orderState");case 12:if(e.orderStateDist=t.sent,console.log(i),s=$("#warran"),d=$("#myorder"),l=$("#draft"),1!=e.type){t.next=26;break}return b.phoneSet1(60),s.removeClass("hidden"),d.remove(),l.remove(),e.appendTypeDom("权证","blue"),e.bindData(i),t.next=24,e.addFFXZ(i);case 24:t.next=27;break;case 26:2==e.type?(b.phoneSet1(60),s.remove(),d.removeClass("hidden"),l.remove(),e.bindData(i)):(b.phoneSet1(90),s.remove(),d.remove(),l.removeClass("hidden"),e.appendTypeDom("草稿","red"),e.bindData1(i));case 27:e.bindBtnEvent();case 28:case"end":return t.stop()}}),t)})))()},addFFXZ:function(e){var t=this;return(0,i.default)(o.default.mark((function r(){var n,a,i,s,d;return o.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.mainMortgagePropertyRight||null,a=e.additionalMortgagePropertyRightList||[],i=[],n&&i.push(n),a.map((function(e){1==e.category&&i.push(e)})),s=$("#fwxz"),d=$("#room_info_item"),0==i.length&&s.append('<br/><div style="font-size:14px;" class="noDate box_hcc">无抵押物</div><br/>'),i.map((function(e){var r=d.clone().attr({id:""});r.find("b-title1").get(0).body.css({margin:0}),r.find("b-title1").get(0).body.find(".titleName").css({width:"100%"}),$("b-title1").get(0).body.find(".titleName").css({width:"100%"}),$("b-title1").get(0).body.css({margin:0}),r.find("b-title1").get(0).body.find(".titleName").text("房屋："+e.name),1!=t.orderType&&(r.find("b-input").each((function(){this.body.find("input").data({rule:""}),this.body.find("select").data({rule:""})})),r.find("b-input-money").each((function(){this.body.find("input").data({rule:""})}))),s.append(r)})),b.set(),$('b-input[type="textarea"]').get(0).nameDom.css({width:"110px"}),$("b-input-file").get(0).nameDom.css({width:"90px"}),r.next=11,y($("#form"));case 11:case"end":return r.stop()}}),r)})))()},appendTypeDom:function(e,t){var r=$('<div class="box_hcc">'+e+"</div>"),n=$("#item");n.css({position:"relative"}),r.css({position:"absolute",right:"3px",top:"50%",width:"24px",height:"40px",marginTop:"-20px",border:"1px solid "+t,color:t,textAlign:"center"}),n.append(r)},bindData:function(e){var t,r,n,o=$("#item").find("a");o.eq(0).text(null===(t=e.mainOrderApplyInfo)||void 0===t?void 0:t.name),o.eq(1).text(null===(r=e.mainOrderApplyInfo)||void 0===r?void 0:r.mobile),o.eq(2).text(this.bussinessDist[e.businessKey]);var a=e.applyMoney;a=g(a/=1e4,2)+"万元",o.eq(3).text(a),o.eq(4).text(this.orderStateDist[e.orderStatus]),o.eq(5).text(v.getDate1(e.flowNodeUpdateTime||"")),$("#info").data({data:e}),$("#history").data({data:e}),$("#tel").attr({href:"tel:"+(null===(n=e.mainOrderApplyInfo)||void 0===n?void 0:n.mobile)})},bindData1:function(e){var t,r,n=$("#item").find("a");n.eq(0).text(null===(t=e.mainOrderApplyInfo)||void 0===t?void 0:t.name),n.eq(2).text(this.bussinessDist[e.businessKey]);var o=e.applyMoney;o=g(o/=1e4,2)+"万元",n.eq(1).text(o),n.eq(3).text(v.getDate1(e.flowNodeUpdateTime||"")),$("#info").data({data:e}),$("#history").data({data:e}),$("#tel").attr({href:"tel:"+(null===(r=e.mainOrderApplyInfo)||void 0===r?void 0:r.mobile)}),(e.orderClientMaterialList||[]).map((function(e){1==e.attachType&&(console.log(l.getRealImageSrc(e.attachUrls)),$("#attachUrls1").get(0).showFiles=l.getRealImageSrc(e.attachUrls)),2==e.attachType&&(console.log(l.getRealImageSrc(e.attachUrls)),$("#attachUrls2").get(0).showFiles=l.getRealImageSrc(e.attachUrls)),3==e.attachType&&(console.log(l.getRealImageSrc(e.attachUrls)),$("#attachUrls3").get(0).showFiles=l.getRealImageSrc(e.attachUrls))}))},bindBtnEvent:function(){var e=$("#info"),t=$("#history"),r=$("#close"),n=$("#submit"),a=$("#submit1"),s=this;d(e).myclickok((function(){var e=$(this).data("data").id;window.location.href="./order_info.html?id=".concat(e,"&state=").concat(0)})),d(t).myclickok((function(){var e=$(this).data("data").orderNo;window.location.href="./history_info.html?orderNo=".concat(e)})),d(r).myclickok((function(){window.history.go(-1)})),d(n).myclickok((0,i.default)(o.default.mark((function e(){var t;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.getFromGroupVal($("#form"));case 2:t=e.sent,console.log(t),l.showLoadingRun(l,"reviewSubmit",{formDom:$("#form"),orderNo:s.orderNo,state:1,addParam:t,currentNodeKey:s.currentNodeKey});case 5:case"end":return e.stop()}}),e)})))),d(a).myclickok((function(){l.showLoadingRun(s,"submitFile")}))},submitFile:function(){var e=this;return(0,i.default)(o.default.mark((function t(){var r,n,a,i,s;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.getFromVal($("#form"));case 2:return r=t.sent,t.next=5,l.uploadFile(r.attachUrls1);case 5:return n=t.sent,t.next=8,l.uploadFile(r.attachUrls2);case 8:return a=t.sent,t.next=11,l.uploadFile(r.attachUrls3);case 11:return i=t.sent,s=[{attachUrl:n.join(","),orderNo:e.orderNo,type:1},{attachUrl:a.join(","),orderNo:e.orderNo,type:2},{attachUrl:i.join(","),orderNo:e.orderNo,type:3}],console.log(s),t.next=16,u.send([p.mobile_file_submit(s)]);case 16:return t.next=18,f.alert("操作成功!");case 18:f.closeWin();case 19:case"end":return t.stop()}}),t)})))()}};s.run(w)}});