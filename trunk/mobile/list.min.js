!function(t){function e(e){for(var n,s,r=e[0],d=e[1],l=e[2],h=0,c=[];h<r.length;h++)s=r[h],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&c.push(o[s][0]),o[s]=0;for(n in d)Object.prototype.hasOwnProperty.call(d,n)&&(t[n]=d[n]);for(u&&u(e);c.length;)c.shift()();return a.push.apply(a,l||[]),i()}function i(){for(var t,e=0;e<a.length;e++){for(var i=a[e],n=!0,r=1;r<i.length;r++){var d=i[r];0!==o[d]&&(n=!1)}n&&(a.splice(e--,1),t=s(s.s=i[0]))}return t}var n={},o={58:0},a=[];function s(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=n,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(i,n,function(e){return t[e]}.bind(null,n));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var r=window.webpackJsonp=window.webpackJsonp||[],d=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=d;a.push([150,0]),i()}({150:function(t,e,i){"use strict";var n=i(0),o=n(i(1)),a=n(i(9)),s=n(i(2)),r=i(7),d=i(42),l=(i(4),i(5)),u=i(6),h=u.ajax,c=u.api,p=i(3),g=i(46),f=(i(14),i(15),i(12)),m=i(17),v=(i(10),i(11),i(13));i(8);p.loading=g.loading,i(151);var y={isWarran:!1,pageSize:20,getListApi:function(){var t={pageNum:1,pageSize:this.pageSize};return this.isWarran?t.isWarrant=1:t.isWarrant=0,{apiName:"mobile_list",param:t}},init:function(){l.showLoadingRun(this,"run")},run:function(){var t=this;return(0,s.default)(o.default.mark((function e(){var i,n,r,d,l,u;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=window.sessionStorage.getItem("userInfo")||"{}",(n=JSON.parse(i)).token){e.next=5;break}return window.location.replace("./index.html"),e.abrupt("return");case 5:return window.token=n.token,window.companyId=n.companyId,window.userName=n.userName,window.orderSearchPrivilegeType=n.orderSearchPrivilegeType,window.orderCreatePrivilegeType=n.orderCreatePrivilegeType,window.userInfo=n,e.next=13,f("businessType");case 13:return t.bussinessDist=e.sent,e.next=16,f("orderState");case 16:return t.orderStateDist=e.sent,e.next=19,h.send([c.get_menu_list()]);case 19:r=e.sent,d=(0,a.default)(r,1),d[0].includes("QUANZHENG_MENU")?(console.log("权证列表"),$("title").text("权证列表"),t.isWarran=!0):(console.log("我的业务"),$("title").text("我的业务"),t.isWarran=!1),l=$("b-push-load").get(0),u=t,l.pageSizes=t.pageSize,l.getData=function(){var t=(0,s.default)(o.default.mark((function t(e,i){var n,a,s,r=this;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return 1==e&&p.loading.show(),n=u.getListApi(),a=n.apiName,(s=n.param).pageNum=e,t.next=5,h.send([c[a](s)]).then((function(t){1==e&&p.loading.hide(),t=(t=t[0]||{}).list||[],u.createList(t),0==t.length?(console.log("没有更多"),r.loadEnd()):(console.log("加载成功"),r.loadOk())})).catch((function(t){1==e&&p.loading.hide(),console.log("加载失败"),r.loadError()}));case 5:case"end":return t.stop()}}),t)})));return function(e,i){return t.apply(this,arguments)}}();case 26:case"end":return e.stop()}}),e)})))()},createList:function(t){var e=this;console.log(t);var i=$("#body"),n=$("#item");t.map((function(t){var o=n.clone().removeClass("hidden").attr({id:""}),a=o.find("a");o.data({data:t}),a.eq(0).text(t.clientName),a.eq(1).text(t.mainApplyPersonMobile),a.eq(2).text(e.bussinessDist[t.businessKey]);var s,r,d,l=t.applyMoney;l=m(l/=1e4,2)+"万元",a.eq(3).text(l),a.eq(4).text(e.orderStateDist[t.orderStatus]),a.eq(5).text(v.getDate1(t.flowNodeUpdateTime||"")),0==t.orderStatus||3==t.orderStatus?(s=3,r="草稿",d="red"):1==t.isWarrant?(s=1,r="权证",d="blue"):(s=2,r="",d=""),o.attr({type:s}),e.addEvent(o),e.appendTypeDom(o,r,d),i.append(o)}))},appendTypeDom:function(t,e,i){if(e){var n=$('<div class="box_hcc">'+e+"</div>");t.css({position:"relative"}),n.css({position:"absolute",right:"2px",top:"50%",width:"24px",height:"40px",marginTop:"-20px",border:"1px solid "+i,color:i,textAlign:"center"}),t.append(n)}},addEvent:function(t){d(t).myclickok((function(){var t=$(this).data("data"),e=$(this).attr("type"),i=t.id,n=t.orderNo,o=t.currentNodeKey;console.log(t),window.location.href="./info.html?id=".concat(i,"&type=").concat(e,"&orderNo=").concat(n,"&currentNodeKey=").concat(o)}))}};r.run(y)},151:function(t,e,i){"use strict";var n=i(0),o=n(i(21)),a=n(i(22)),s=n(i(26)),r=n(i(27)),d=n(i(24)),l=n(i(31));function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=(0,d.default)(t);if(e){var o=(0,d.default)(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return(0,r.default)(this,i)}}var h=i(152),c=i(42),p=Symbol(),g=Symbol(),f=Symbol(),m=Symbol(),v=Symbol(),y=function(t){(0,s.default)(i,t);var e=u(i);function i(){var t;return(0,o.default)(this,i),(t=e.call(this)).shadow=t.attachShadow({mode:"open"}),t.pageSize=20,t.pageIndex=1,t.param={viewport:750,bottomFixedDivHeight:0},t[g]=null,t[m]=null,t[v]=function(){},t[p](),t[f](),t}return(0,a.default)(i,[{key:"attributeChangedCallback",value:function(t,e,i){$(this).attr("viewport"),$(this).attr("bottomfixeddivheight");var n=$(this).attr("pagesizes")||20;this.param.viewPort=750,this.param.bottomFixedDivHeight=0,this.pageSize=n}},{key:"connectedCallback",value:function(){}},{key:"disconnectedCallback",value:function(){}}],[{key:"observedAttributes",get:function(){return["viewport","pageSizes","bottomfixeddivheight"]}}]),(0,a.default)(i,[{key:p,value:function(){var t=$("<div>上拉加载</div>");t.css({width:"100%",height:"40px","text-align":"center","line-height":"40px","font-size":"14px",color:"#333"}),this[g]=t,this.shadow.appendChild(this[g].get(0))}},{key:f,value:function(){var t=this;this[m]=new h({loadingDom:t[g],canLoadingFn:function(){1==t.pageIndex?$(this).addClass("hidden"):$(this).removeClass("hidden"),t[g].text("释放加载")},notCanLoadingFn:function(){1==t.pageIndex?$(this).addClass("hidden"):$(this).removeClass("hidden"),t[g].text("上拉加载")},loadingFn:function(){t[g].text("正在加载"),1==t.pageIndex?$(this).addClass("hidden"):$(this).removeClass("hidden"),t[v].call(t,t.pageIndex,t.pageSize)},viewport:this.param.viewport,bottomFixedDivHeight:this.param.bottomFixedDivHeight})}},{key:"reload",value:function(){this[m].destroy(),this[f](),this.pageIndex=1,this[m].firstLoad()}},{key:"loadError",value:function(){var t=this;this[g].text("加载失败，点击重试！"),c(this[g]).myclickok((function(){t[g].text("正在加载"),c(this[g]).unbind(!0),t[v].call(t,t.pageIndex,t.pageSize)}))}},{key:"loadOk",value:function(){return this.pageIndex++,this[m].loadingEnd(),function(){}}},{key:"loadEnd",value:function(){return this[m].destroy(),function(){}}},{key:"pause",value:function(){this[m].pause()}},{key:"restore",value:function(){this[m].restore()}},{key:"destroy",value:function(){this[m].destroy()}},{key:"getData",get:function(){return this[v]},set:function(t){this[v]=t,this[m].firstLoad()}},{key:"viewPort",get:function(){return this.param.viewport},set:function(t){this.param.viewport=t,$(this).attr({viewport:t})}},{key:"bottomFixedDivHeight",get:function(){return this.param.bottomFixedDivHeight},set:function(t){this.param.bottomFixedDivHeight=t,$(this).attr({bottomFixedDivHeight:t})}},{key:"pageSizes",get:function(){return this.pageSize},set:function(t){this.pageSize=t,$(this).attr({pageSizes:t})}},{key:"index",get:function(){return this.pageIndex},set:function(t){this.pageIndex=t}}]),i}((0,l.default)(HTMLElement));customElements.get("b-push-load")||customElements.define("b-push-load",y)},152:function(t,e,i){"use strict";var n,o,a=i(0),s=a(i(21)),r=a(i(22)),d=i(38),l=i(59),u=Symbol("points"),h=Symbol("hasTouched"),c=Symbol("y"),p=Symbol("animateFn"),g=Symbol("maxScrollHeight"),f=Symbol("init"),m=Symbol("createShowDom"),v=Symbol("setParam"),y=Symbol("setLoadingDomStyle"),b=Symbol("addEvent"),x=Symbol("touchStartFn"),w=Symbol("touchMoveFn"),S=Symbol("touchEndFn"),D=Symbol("androidTouchStart"),k=Symbol("androidTouchMove"),H=Symbol("androidTouchEnd"),E=Symbol("savePoint"),F=Symbol("clearPoint"),L=Symbol("iosHandlerScroll"),T=Symbol("bodyPaddingBottom"),z=Symbol("isLoading"),C=Symbol("iosScroll"),I=Symbol("iosScrollFn"),P=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,s.default)(this,t),n=e.viewport||320,o=$("body"),this.loadingDom=e.loadingDom||t[m](),this.zIndex=e.zIndex||1,this.canLoadingFn=e.canLoadingFn||function(){},this.notCanLoadingFn=e.notCanLoadingFn||function(){},this.loadingFn=e.loadingFn||function(){};var i=e.bottomFixedDivHeight||0;this.bottomFixedDivHeight=d.rem2Px(n,i),this.canRun=!0,this[c]=0,this[p]=null,this.loadingDomHeight=0,this[g]=0,this[T]=0,this[z]=!1,this[u]=[],o.css({position:"relative"}),this[f]()}return(0,r.default)(t,[{key:f,value:function(){this[y](),this[v](),this[b]()}},{key:y,value:function(){parseInt(this.loadingDom.height());this.loadingDom.css({position:"fixed",left:0,bottom:this.bottomFixedDivHeight+"px","z-index":-1,background:"#fff"});var t=parseInt(o.css("padding-bottom"));this[T]=t+this.bottomFixedDivHeight,o.css({"padding-bottom":this[T]+"px"})}},{key:v,value:function(){this.loadingDomHeight=parseInt(this.loadingDom.height());var t=o.outerHeight(),e=window.innerHeight;this[g]=t>e?t-e:0}},{key:b,value:function(){var t=this;d.isAndroid||-1!=navigator.userAgent.indexOf("tfsmy")?(document.addEventListener(d.START_EV,this[x]=function(e){t.canRun&&t[D](e)},!1),document.addEventListener(d.MOVE_EV,this[w]=function(e){t.canRun&&t[k](e)},!1),document.addEventListener(d.END_EV,this[S]=function(e){t.canRun&&t[H]()},!1)):(window.addEventListener("scroll",this[I]=function(){t.canRun&&t[C]()},!1),document.addEventListener(d.END_EV,this[S]=function(e){t.canRun&&t[L]()},!1))}},{key:L,value:function(){if(!this[z]&&$(document).scrollTop()-this[g]>this.loadingDomHeight){var t=this[T];t+=this.loadingDomHeight,this[z]=!0,o.css({"padding-bottom":t+"px"}),this.loadingDom.css({"z-index":1}),this.loadingFn.call(this.loadingDom)}}},{key:C,value:function(){this[z]||($(document).scrollTop()-this[g]>=this.loadingDomHeight?this.canLoadingFn.call(this.loadingDom):this.notCanLoadingFn.call(this.loadingDom))}},{key:D,value:function(t){this[z]||(this[p]&&this[p].stop(),$(document).scrollTop()>=this[g].toFixed(0)&&(this[c]=0,this[h]=!0),this[F](),this[E](t))}},{key:k,value:function(t){if(!this[z]&&this[h]){this[E](t);var e=this[u].length;if(!(e<2)){var i=this[u][e-2],n=this[u][e-1];this[c]+=i-n,this[c]=this[c]>this.loadingDomHeight?this.loadingDomHeight:this[c],this[c]>=0&&(t.stopPropagation(),t.preventDefault(),o.css({"padding-bottom":this[T]+this[c]+"px"}),$(window).scrollTop(o.outerHeight()-window.innerHeight)),this[c]>=2*this.loadingDomHeight/3?this.canLoadingFn.call(this.loadingDom):this.notCanLoadingFn.call(this.loadingDom)}}}},{key:H,value:function(){if(!this.isLoading&&this[h]){this[h]=!1;var t=this;this[c]>0&&this[c]<2*this.loadingDomHeight/3&&(this[p]=new l({start:this[c],end:0,time:500,type:"Cubic",class:"easeIn",stepFn:function(e){o.css({"padding-bottom":t[T]+e+"px"}),$(window).scrollTop(o.outerHeight()-window.innerHeight),t[c]=e},endFn:function(){o.css({"padding-bottom":t[T]+"px"}),$(window).scrollTop(o.outerHeight()-window.innerHeight),t[c]=0},alternate:!1,infinite:!1}),this[p].play()),this[c]>2*this.loadingDomHeight/3&&setTimeout((function(){t[p]=new l({start:t[c],end:t.loadingDomHeight,time:100,type:"Cubic",class:"easeIn",stepFn:function(e){o.css({"padding-bottom":t[T]+e+"px"}),$(window).scrollTop(o.outerHeight()-window.innerHeight),t[c]=e},endFn:function(){o.css({"padding-bottom":t[T]+t.loadingDomHeight+"px"}),$(window).scrollTop(o.outerHeight()-window.innerHeight),t[c]=t.loadingDomHeight,t[z]=!0,t.loadingFn.call(t.loadingDom),t.loadingDom.css({"z-index":1})},alternate:!1,infinite:!1}),t[p].play()}),500)}}},{key:E,value:function(t){var e=(t.touches?t.touches[0]:t).clientY;this[u].push(e)}},{key:F,value:function(){this[u]=[]}},{key:"loadingEnd",value:function(){o.css({"padding-bottom":this[T]+"px"}),this.loadingDom.css({"z-index":-1}),this[z]=!1,this[v](),this.notCanLoadingFn()}},{key:"destroy",value:function(){this.loadingDom.remove(),o.css({paddingBottom:0}),d.isAndroid?(document.removeEventListener(d.START_EV,this[x],!1),document.removeEventListener(d.MOVE_EV,this[w],!1),document.removeEventListener(d.END_EV,this[S],!1)):(window.removeEventListener("scroll",this[I],!1),document.removeEventListener(d.END_EV,this[S],!1))}},{key:"firstLoad",value:function(){this[z]=!0,this.loadingFn.call(this.loadingDom)}},{key:"pause",value:function(){this.canRun=!1}},{key:"restore",value:function(){this.canRun=!0,this[v]()}}],[{key:m,value:function(){var t=$("<div><span>上拉加载</span></div>"),e=d.rem2Px(n,1.5);return t.css({width:"100%",height:e+"px","text-align":"center","font-size":"0.24rem","line-height":e+"px"}),o.append(this.loadingDom),t}}]),t}();t.exports=P}});