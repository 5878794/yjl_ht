!function(e){function r(r){for(var n,a,c=r[0],d=r[1],i=r[2],f=0,l=[];f<c.length;f++)a=c[f],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&l.push(o[a][0]),o[a]=0;for(n in d)Object.prototype.hasOwnProperty.call(d,n)&&(e[n]=d[n]);for(s&&s(r);l.length;)l.shift()();return u.push.apply(u,i||[]),t()}function t(){for(var e,r=0;r<u.length;r++){for(var t=u[r],n=!0,c=1;c<t.length;c++){var d=t[c];0!==o[d]&&(n=!1)}n&&(u.splice(r--,1),e=a(a.s=t[0]))}return e}var n={},o={12:0},u=[];function a(r){if(n[r])return n[r].exports;var t=n[r]={i:r,l:!1,exports:{}};return e[r].call(t.exports,t,t.exports,a),t.l=!0,t.exports}a.m=e,a.c=n,a.d=function(e,r,t){a.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,r){if(1&r&&(e=a(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(a.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var n in e)a.d(t,n,function(r){return e[r]}.bind(null,n));return t},a.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(r,"a",r),r},a.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},a.p="/";var c=window.webpackJsonp=window.webpackJsonp||[],d=c.push.bind(c);c.push=r,c=c.slice();for(var i=0;i<c.length;i++)r(c[i]);var s=d;u.push([100,0]),t()}({100:function(e,r,t){"use strict";var n=t(0),o=n(t(1)),u=n(t(9)),a=n(t(2)),c=t(6),d=(t(4),t(7)),i=t(5),s=i.ajax,f=i.api,l=t(3),p=(t(14),t(15)),v=(t(10),t(11),t(12)),y=(t(17),t(13),t(8));t(23),t(18),t(28),t(16),t(19);var h={init:function(){d.showLoadingRun(this,"run")},run:function(){var e=this;return(0,a.default)(o.default.mark((function r(){var t,n,a,c,i,l;return o.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return y.set(!0,!0),t=p(),e.id=t.id,e.orderNo=t.orderNo,e.currentNodeKey=t.currentNodeKey,r.next=7,d.getUserInfo();case 7:return r.next=9,s.send([f.order_get_byId({id:e.id}),f.order_get_history_byOrderNo({orderNo:e.orderNo})]);case 9:return n=r.sent,a=(0,u.default)(n,2),c=a[0],i=a[1],r.next=15,d.setOrderTopData(4,c);case 15:return r.next=17,d.setOrderHistoryData(i,!0);case 17:return l=c.businessKey,$("#productId").data({addParam:{productType:l}}),r.next=21,v($("#form"));case 21:e.addBtnEvent(),e.addChangeEvent();case 23:case"end":return r.stop()}}),r)})))()},checkNeedProduct:function(){$("#choose_product").remove()},addChangeEvent:function(){$("#productId").get(0),$("#productInfo").find("span")},addBtnEvent:function(){var e=$("#submit"),r=$("#back"),t=$("#cancel"),n=this;e.click((function(){d.showLoadingRun(d,"reviewSubmit",{formDom:$("#form"),orderNo:n.orderNo,state:1,currentNodeKey:n.currentNodeKey})})),r.click((function(){d.showLoadingRun(d,"reviewSubmit",{formDom:$("#form"),orderNo:n.orderNo,state:0,currentNodeKey:n.currentNodeKey})})),t.click((function(){l.closeWin()}))},submitFn:function(e){var r=this;return(0,a.default)(o.default.mark((function t(){var n,u;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.getFromVal($("#form"));case 2:return n=t.sent,t.next=5,d.uploadFile(n.attachUrls);case 5:return u=t.sent,n.attachUrls=u.join(","),n.auditStatus=e,n.orderNo=r.orderNo,n.currentNodeKey=r.currentNodeKey,t.next=12,s.send([f.approve_room(n)]);case 12:return t.next=14,l.alert("提交成功!");case 14:l.closeWin();case 15:case"end":return t.stop()}}),t)})))()}};c.run(h)}});