!function(e){function t(t){for(var a,o,s=t[0],u=t[1],d=t[2],p=0,f=[];p<s.length;p++)o=s[p],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&f.push(r[o][0]),r[o]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);for(c&&c(t);f.length;)f.shift()();return i.push.apply(i,d||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,s=1;s<n.length;s++){var u=n[s];0!==r[u]&&(a=!1)}a&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},r={13:0},i=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window.webpackJsonp=window.webpackJsonp||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var c=u;i.push([101,0]),n()}({101:function(e,t,n){"use strict";var a=n(0),r=a(n(9)),i=a(n(1)),o=a(n(2)),s=n(7),u=(n(4),n(5)),d=n(6),c=d.ajax,p=d.api,f=n(3),l=n(14),h=n(10),y=n(11),b=n(15),m=n(12),g=n(17),w=(n(13),n(8));n(30),n(34),n(39),n(33),n(40);var v={init:function(){u.showLoadingRun(this,"run")},orderStateDist:{},productTypeDist:{},run:function(){var e=this;return(0,o.default)(i.default.mark((function t(){var n,a,r,o,s,d;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.getUserInfo();case 2:return t.next=4,e.createSearch();case 4:return t.next=6,m($("#b_search").get(0).body);case 6:return n=b(),a=n.sDay,r=n.eDay,o=n.state,t.next=9,m("orderState");case 9:return e.orderStateDist=t.sent,t.next=12,m("businessType");case 12:return e.productTypeDist=t.sent,s={pageNum:1},(a||r||o)&&((d=$("#b_search").get(0).body).find('b-input-date[key="operationStartTime"]').get(0).value=a,d.find('b-input-date[key="operationEndTime"]').get(0).value=r,d.find('b-input[key="orderStatus"]').get(0).value=o,s.operationStartTime=a,s.operationEndTime=r,s.orderStatus=o),t.next=17,e.getData(s);case 17:case"end":return t.stop()}}),t)})))()},getData:function(e){var t=this;return(0,o.default)(i.default.mark((function n(){var a,o,s,d,f;return i.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t,t.catchListParam=e,e.pageSize=l.management_notice,n.next=5,c.send([p.my_order(e)]);case 5:o=n.sent,s=(0,r.default)(o,1),d=s[0],f=d.total,d=d.list||[],t.createList(d),u.createFY({domId:"table_pagination",nowPage:e.pageNum,listLength:f,pageSize:e.pageSize,searchData:e,getDataFn:function(e){u.showLoadingRun(a,"getData",e)}});case 12:case"end":return n.stop()}}),n)})))()},createSearch:function(){var e=this;return(0,o.default)(i.default.mark((function t(){var n,a,o,s,d,c,p,f,l;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=$("#b_search").get(0),o=e,s=null!==(n=window.userInfo)&&void 0!==n?n:{},d=s.orderSearchPrivilegeType,c=4==d?[{name:"客户姓名:",type:"text",id:"clientName",width:"25%"},{name:"客户电话:",type:"text",id:"clientMobile",width:"25%"},{name:"业务类型:",type:"select",id:"businessKey",width:"25%",bind:"businessType"},{name:"订单状态:",type:"select",id:"orderStatus",width:"25%",bind:"orderState1"},{name:"所属公司:",type:"select",id:"companyId",width:"25%",bind:"company",child:"operationId"},{name:"经办人",type:"select",id:"operationId",width:"25%",bind:"manager"},{name:"日期",type:"assDate",id:["operationStartTime","operationEndTime"],width:"50%"}]:[{name:"客户姓名:",type:"text",id:"clientName",width:"25%"},{name:"客户电话:",type:"text",id:"clientMobile",width:"25%"},{name:"业务类型:",type:"select",id:"businessKey",width:"25%",bind:"businessType"},{name:"订单状态:",type:"select",id:"orderStatus",width:"25%",bind:"orderState1"},{name:"日期",type:"assDate",id:["operationStartTime","operationEndTime"],width:"50%"}],2!=d&&3!=d){t.next=10;break}return t.next=6,e.getSelectData();case 6:p=t.sent,f=(0,r.default)(p,1),l=f[0],c.push({name:"经办人",type:"select",id:"operationId",width:"25%",data:l});case 10:a.inputData=c,a.clickFn=function(e){e.pageNum=1,u.showLoadingRun(o,"getData",e)},w.searchSet(a);case 13:case"end":return t.stop()}}),t)})))()},getSelectData:function(){return(0,o.default)(i.default.mark((function e(){var t,n,a,o;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.companyId,e.next=3,c.send([p.staff_list({companyId:t,pageSize:99999})]);case 3:return n=e.sent,a=(0,r.default)(n,1),(o=(o=a[0]).list||[]).map((function(e){e.name=e.userName,e.value=e.id})),o.unshift({name:"请选择",value:""}),e.abrupt("return",[o]);case 10:case"end":return e.stop()}}),e)})))()},createList:function(e){var t=this,n=$("#table_list").get(0);y.set(n,"business"),e.map((function(e){e.businessKey_=t.productTypeDist[e.businessKey],e.applyMoney_=g(e.applyMoney,2),e.orderStatus_=t.orderStateDist[e.orderStatus],e.ddgs_=e.companyName+"-"+e.deptName,e.key6="查看详情"})),n.show(e),n.body.find(".__key6__").each((function(){$(this).addClass("hover")})),n.body.find(".__key6__").click((function(e){e.stopPropagation();var t=$(this).parent().data("data"),n=t.id,a=t.orderNo;f.openPage("../business/business_info.html?id="+n+"&orderNo="+a,h.business_info.width,h.business_info.height)})),n.body.find(".__row__").css({cursor:"pointer"}),n.body.find(".__row__").click((function(){var e=$(this).data("data"),t=e.id,n=e.orderNo;f.openPage("../business/business_info.html?id="+t+"&orderNo="+n,h.business_info.width,h.business_info.height)}))},refreshList:function(){var e=this.catchListParam;console.log("refresh"),u.showLoadingRun(this,"getData",e)}};window.refreshList=function(){v.refreshList()},s.run(v)}});