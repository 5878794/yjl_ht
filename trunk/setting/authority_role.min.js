!function(e){function t(t){for(var a,o,c=t[0],l=t[1],d=t[2],u=0,f=[];u<c.length;u++)o=c[u],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&f.push(i[o][0]),i[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);for(s&&s(t);f.length;)f.shift()();return r.push.apply(r,d||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,c=1;c<n.length;c++){var l=n[c];0!==i[l]&&(a=!1)}a&&(r.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},i={42:0},r=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var c=window.webpackJsonp=window.webpackJsonp||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var d=0;d<c.length;d++)t(c[d]);var s=l;r.push([126,0]),n()}({126:function(e,t,n){"use strict";var a=n(0),i=a(n(1)),r=a(n(34)),o=a(n(2)),c=n(4),l=(n(3),n(16),n(31)),d=n(32),s=d.ajax,u=d.api,f=n(35),p=n(39);n(5);n(19),n(7),n(127),n(40);var h={init:function(){l.loading.show("急速加载中"),this.run().then((function(e){l.loading.hide()})).catch((function(e){l.loading.hide(),l.alert(e)}))},run:function(){var e=this;return(0,o.default)(i.default.mark((function t(){var n,a,o;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.createBTitlesBtn(),t.next=3,f.getUserInfo();case 3:return t.next=5,s.send([u.role_get_list({pageNum:1,pageSize:99999})]);case 5:n=t.sent,a=(0,r.default)(n,2),o=a[0],a[1],(o=o.list).map((function(e){e.name=e.roleName})),e.createRoleList(o),e.createRole();case 13:case"end":return t.stop()}}),t)})))()},createBTitlesBtn:function(){var e=$("#b_title").get(0);e.btnData=[{name:"新增",type:"btn1",style:{color:"#5576f0"}}],e.clickFn=function(){l.openPage("o_add.html?name=角色名&type=1",p.setting_add_role.width,p.setting_add_role.height)}},createRoleList:function(e){var t=$("#list").get(0),n=this;t.data=e,t.del=function(){var e=(0,o.default)(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.confirm("您确定要删除角色 ".concat(t.name,"?"));case 2:if(!e.sent){e.next=5;break}l.loading.show(),n.delRole(t).then((function(e){l.loading.hide()})).catch((function(e){l.loading.hide(),l.alert(e)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.click=function(e){console.log(e)}},createRole:function(){var e=$("#role").get(0);e.data=[{name:"aaa",children:[{name:"aaa1",children:[{name:"aaa11",type:"公司权限",checked:!1},{name:"aaa12",type:"集团权限",checked:!0}]},{name:"aaa2",children:[{name:"aaa21",type:"公司权限",checked:!1},{name:"aaa22",type:"集团权限",checked:!0}]}]},{name:"bbb",children:[{name:"bbb1",children:[{name:"bbb11",type:"公司权限",checked:!1},{name:"bbb12",type:"集团权限",checked:!0}]},{name:"bbb2",children:[{name:"bbb21",type:"公司权限",checked:!1},{name:"bbb22",type:"集团权限",checked:!0}]}]}],e.submit=function(e){console.log(e)}},delRole:function(e){return(0,o.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.send([u.role_del({roleId:e.id})]);case 2:return t.next=4,l.alert("删除成功");case 4:l.refreshPage();case 5:case"end":return t.stop()}}),t)})))()}};c.run(h)},127:function(e,t,n){"use strict";var a=n(0),i=a(n(10)),r=a(n(26)),o=a(n(11)),c=a(n(13)),l=a(n(14)),d=a(n(12)),s=a(n(20));function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var i=(0,d.default)(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}n(33),n(44);var f=n(22),p=n(25),h=function(e){(0,c.default)(n,e);var t=u(n);function n(){var e;(0,i.default)(this,n),(e=t.call(this)).body=null,e.shadow=e.attachShadow({mode:"open"});var a=f("../res/css/all.css");e.shadow.appendChild(a),e.createStyle();var o=p(e.cssText);return e.shadow.appendChild(o),e.cacheData={},e.name=$((0,r.default)(e)).attr("name")||"",e.userClick=function(){},e.createElement(),e.shadow.appendChild(e.body.get(0)),e.bindEvent(),e}return(0,o.default)(n,[{key:"connectedCallback",value:function(){}}]),(0,o.default)(n,[{key:"createElement",value:function(){var e=$('<div class="body box_sct"></div>'),t=$('<div class="border box_sct"></div>'),n=$('<div class="box_hlc titleBody"></div>'),a=$('<div class="boxflex1 title">'+this.name+"</div>"),i=$('<div class="submit box_hcc gray">提交</div>'),r=$('<div class="box_hlt listBody"></div>'),o=$('<div class="box_slt cel1"></div>'),c=$('<div class="cel2 boxflex1 box_slt">'),l=$('<div class="item1 box_hlc hover"></div>'),d=$('<div class="box_hlc item2"></div>'),s=$('<div class="cel2_1 box_hlc diandian"></div>'),u=$('<div class="cel2_2 box_hlc diandian"></div>'),f=$('<div class="cel2_3 box_hcc diandian"></div>'),p=$('<div class="cel2_4 box_hcc"></div>');n.append(a).append(i),r.append(o).append(c),d.append(s).append(u).append(f).append(p),t.append(n).append(r),e.append(t),this.listBody1=o,this.listBody2=c,this.btn=i,this.item1=l,this.item2=d,this.body=e}},{key:"createStyle",value:function(){this.cssText=[".body{width:100%; padding:20px; box-sizing:border-box;}",".border{border:1px solid rgb(234,243,251);; width:100%;}",".titleBody{width:100%;height:34px;font-size:14px;background:rgb(234,243,251);}",".title{font-weight:bold;padding-left:20px;}",".submit{color:#fff; background:#5576f0; width:50px; height:24px; border-radius:5px; margin:0 10px;}",".listBody{width:100%;position:relative;}",".cel1{width:100px;background:#f9f9f9;font-size:14px;color:#333;border-right:1px solid rgb(234,243,251);;position:absolute;left:0;top:0;bottom:0;}",".cel2{background:#fff;padding-left:100px;}",".item1,.item2{width:100%; height:40px;padding:10px;border-top:1px solid rgb(234,243,251);;border-bottom:1px solid rgb(234,243,251);;}",".item1{border-color:transparent;}",".item2{border-top:none;padding:none;}",".cel1 .select{border-color:rgb(234,243,251);;background:#fff;color:#5576f0;height:41px;position:relative;top:-1px;}",".cel2_1,.cel2_2,.cel2_3,.cel2_4{height:40px;border-right:1px solid rgb(234,243,251);;padding:0 10px;font-size:14px;}",".cel2_1,.cel2_2{width:34%;}",".cel2_3,.cel2_4{width:16%;color:#aaa;}",".cel2_4{border:none;}",".gray{display:none;}","b-switch{display:block; width:60px; height:24px;}"].join("")}},{key:"bindEvent",value:function(){var e=this;this.btn.click((function(){var t=e.getRs(e.cacheData);e.userClick(t)}))}},{key:"getRs",value:function(e){var t=[];return e.map((function(e){var n=e.name;(e.children||[]).map((function(e){var a=e.name;(e.children||[]).map((function(e){e.checked&&(e.__level1__=n,e.__level2__=a,e.__level3__=e.name,t.push(e))}))}))})),t}},{key:"showLevel2",value:function(e,t){var n=this.listBody2,a=this.item2,i=this;n.html(""),e.map((function(e){var r=e.name;(e.children||[]).map((function(o,c){var l=a.clone().data({level3:o,level2:e,level1:t});0==c&&l.find(".cel2_1").text(r),l.find(".cel2_2").text(o.name),l.find(".cel2_3").text(o.type);var d=$("<b-switch></b-switch>").get(0);d.val=!!o.checked,d.checkBgColor="#5576f0",l.find(".cel2_4").append(d),n.append(l),d.changeFn=function(e){var t=$(this).parent().parent(),n=t.data("level3");t.data("level2"),t.data("level1");n.checked=!!e,i.btn.removeClass("gray").addClass("hover")}}))}))}},{key:"data",set:function(e){e=e||[],this.cacheData=e;var t=this.listBody1,n=this.item1,a=this;e.map((function(e){var i=n.clone().data({data:e});i.text(e.name),t.append(i),i.click((function(){var e=$(this).data("data"),t=e.children;a.listBody1.find("div").removeClass("select"),$(this).addClass("select"),a.showLevel2(t,e)}))})),this.listBody1.find("div").eq(0).trigger("click")}},{key:"submit",set:function(e){e=e||function(){},this.userClick=e}}]),n}((0,s.default)(HTMLElement));customElements.get("b-role-authority")||customElements.define("b-role-authority",h)}});