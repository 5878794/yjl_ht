!function(e){function t(t){for(var r,o,c=t[0],u=t[1],l=t[2],s=0,f=[];s<c.length;s++)o=c[s],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&f.push(a[o][0]),a[o]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(d&&d(t);f.length;)f.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,c=1;c<n.length;c++){var u=n[c];0!==a[u]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={48:0},i=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var c=window.webpackJsonp=window.webpackJsonp||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var d=u;i.push([135,0]),n()}({135:function(e,t,n){"use strict";var r=n(0),a=r(n(1)),i=r(n(11)),o=r(n(2)),c=n(5),u=(n(3),n(8),n(7)),l=u.ajax,d=u.api,s=n(9),f=n(6),p=(n(12),n(10));n(4);n(29),n(34),n(33),n(14),n(28),n(45);var h={init:function(){f.loading.show("急速加载中"),this.run().then((function(e){f.loading.hide()})).catch((function(e){f.loading.hide(),f.alert(e)}))},run:function(){var e=this;return(0,o.default)(a.default.mark((function t(){var n,r,o;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.getUserInfo();case 2:return e.bindTitleBtn(),t.next=5,l.send([d.company_list({pageNum:1,pageSize:99999})]);case 5:if(n=t.sent,r=(0,i.default)(n,1),(o=(o=r[0]).list||[]).map((function(e){e.name=e.companyName})),e.createList(o),0!=o.length){t.next=13;break}return t.abrupt("return");case 13:$("#list").get(0).triggerClick(0);case 15:case"end":return t.stop()}}),t)})))()},bindTitleBtn:function(){var e=$("#b_title").get(0);e.btnData=[{name:"新增",type:"btn1",style:{color:"#5576f0"}}],e.clickFn=function(){f.openPage("o_add.html?name=公司名&type=3",p.setting_add_role.width,p.setting_add_role.height)}},createList:function(e){var t=$("#list").get(0),n=this;t.data=e,t.del=function(){var e=(0,o.default)(a.default.mark((function e(t){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.confirm("您确定要删除公司 ".concat(t.name,"?"));case 2:if(!e.sent){e.next=5;break}f.loading.show(),n.delCompany(t).then((function(e){f.loading.hide()})).catch((function(e){f.loading.hide(),f.alert(e)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.click=function(e){n.companyData=e,f.loading.show(),n.showDepartment(e).then((function(e){f.loading.hide()})).catch((function(e){f.loading.hide(),f.alert(e)}))}},delCompany:function(e){return(0,o.default)(a.default.mark((function t(){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.send([d.company_del({companyId:e.id})]);case 2:return t.next=4,f.alert("删除成功");case 4:f.refreshPage();case 5:case"end":return t.stop()}}),t)})))()},showDepartment:function(e){var t=this;return(0,o.default)(a.default.mark((function n(){var r,c,u,s,p,h,m,g;return a.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=$("#list_body"),c=t,r.html(""),u=$('<b-title1 name="'+e.name+'"></b-title1>'),r.append(u),t.createListTitle(u.get(0),e),n.next=7,l.send([d.department_list({companyId:e.id,pageNum:1,pageSize:99999})]);case 7:s=n.sent,p=(0,i.default)(s,1),h=(h=p[0]).list||[],m=$('<b-role-list name="部门名称"></b-role-list>'),(g=$('<div class="index_list"></div>')).append(m),r.append(g),h.map((function(e){e.name=e.deptName})),(m=m.get(0)).data=h,m.del=function(){var e=(0,o.default)(a.default.mark((function e(t){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.confirm("您确定要删除部门 ".concat(t.name,"?"));case 2:if(!e.sent){e.next=5;break}f.loading.show(),c.delDepartment(t).then((function(e){f.loading.hide()})).catch((function(e){f.loading.hide(),f.alert(e)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.removeClass("hidden");case 19:case"end":return n.stop()}}),n)})))()},createListTitle:function(e,t){e.btnData=[{name:"新增",type:"btn1",style:{color:"#5576f0"}}],e.clickFn=function(){f.openPage("o_add.html?name=部门名&type=4&companyId="+t.id,p.setting_add_role.width,p.setting_add_role.height)}},delDepartment:function(e){return(0,o.default)(a.default.mark((function t(){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.send([d.department_del({deptId:e.id})]);case 2:return t.next=4,f.alert("删除成功");case 4:f.refreshPage();case 5:case"end":return t.stop()}}),t)})))()}};c.run(h)}});